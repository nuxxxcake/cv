/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{105:function(e,t,n){"use strict";t.a=function(e,t){return t=t||{},new Promise((function(n,o){var s=new XMLHttpRequest,r=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(JSON.parse(s.responseText))},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return r},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){r.push(t=t.toLowerCase()),u.push([t,n]),i[t]=i[t]?i[t]+","+n:n})),n(a())},s.onerror=o,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(l,t.headers[l]);s.send(t.body||null)}))}},107:function(e,t,n){"use strict";var o=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(e,t){return!1!==t.clone&&t.isMergeableObject(e)?v((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function c(e,source,t){return e.concat(source).map((function(element){return l(element,t)}))}function d(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(symbol){return e.propertyIsEnumerable(symbol)})):[]}(e))}function f(object,e){try{return e in object}catch(e){return!1}}function m(e,source,t){var n={};return t.isMergeableObject(e)&&d(e).forEach((function(o){n[o]=l(e[o],t)})),d(source).forEach((function(o){(function(e,t){return f(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(f(e,o)&&t.isMergeableObject(source[o])?n[o]=function(e,t){if(!t.customMerge)return v;var n=t.customMerge(e);return"function"==typeof n?n:v}(o,t)(e[o],source[o],t):n[o]=l(source[o],t))})),n}function v(e,source,t){(t=t||{}).arrayMerge=t.arrayMerge||c,t.isMergeableObject=t.isMergeableObject||o,t.cloneUnlessOtherwiseSpecified=l;var n=Array.isArray(source);return n===Array.isArray(e)?n?t.arrayMerge(e,source,t):m(e,source,t):l(source,t)}v.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return v(e,n,t)}),{})};var h=v;e.exports=h},27:function(e,t,n){"use strict";var o={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,o=t.slots,r=t.props,l=o(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),r.placeholderTag&&(r.placeholder||d)?e(r.placeholderTag,{class:["no-ssr-placeholder"]},r.placeholder||d):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=o},56:function(e,t,n){(function(t){e.exports=function e(t,n,o){function r(i,l){if(!n[i]){if(!t[i]){if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};t[i][0].call(p.exports,(function(e){return r(t[i][1][e]||e)}),p,p.exports,e,t,n,o)}return n[i].exports}for(var u=!1,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vertices"),l=e("../geometry/Vector"),c=e("../core/Sleeping"),d=(e("../render/Render"),e("../core/Common")),f=e("../geometry/Bounds"),m=e("../geometry/Axes");!function(){o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o.create=function(t){var n={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:r.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},body=d.extend(n,t);return e(body,t),body},o.nextGroup=function(e){return e?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var e=function(body,e){e=e||{},o.set(body,{bounds:body.bounds||f.create(body.vertices),positionPrev:body.positionPrev||l.clone(body.position),anglePrev:body.anglePrev||body.angle,vertices:body.vertices,parts:body.parts||[body],isStatic:body.isStatic,isSleeping:body.isSleeping,parent:body.parent||body}),r.rotate(body.vertices,body.angle,body.position),m.rotate(body.axes,body.angle),f.update(body.bounds,body.vertices,body.velocity),o.set(body,{axes:e.axes||body.axes,area:e.area||body.area,mass:e.mass||body.mass,inertia:e.inertia||body.inertia});var t=body.isStatic?"#2e2b44":d.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);body.render.fillStyle=body.render.fillStyle||t,body.render.strokeStyle=body.render.strokeStyle||"#000",body.render.sprite.xOffset+=-(body.bounds.min.x-body.position.x)/(body.bounds.max.x-body.bounds.min.x),body.render.sprite.yOffset+=-(body.bounds.min.y-body.position.y)/(body.bounds.max.y-body.bounds.min.y)};o.set=function(body,e,t){var n;for(n in"string"==typeof e&&(n=e,(e={})[n]=t),e)if(t=e[n],e.hasOwnProperty(n))switch(n){case"isStatic":o.setStatic(body,t);break;case"isSleeping":c.set(body,t);break;case"mass":o.setMass(body,t);break;case"density":o.setDensity(body,t);break;case"inertia":o.setInertia(body,t);break;case"vertices":o.setVertices(body,t);break;case"position":o.setPosition(body,t);break;case"angle":o.setAngle(body,t);break;case"velocity":o.setVelocity(body,t);break;case"angularVelocity":o.setAngularVelocity(body,t);break;case"parts":o.setParts(body,t);break;default:body[n]=t}},o.setStatic=function(body,e){for(var i=0;i<body.parts.length;i++){var t=body.parts[i];t.isStatic=e,e?(t._original={restitution:t.restitution,friction:t.friction,mass:t.mass,inertia:t.inertia,density:t.density,inverseMass:t.inverseMass,inverseInertia:t.inverseInertia},t.restitution=0,t.friction=1,t.mass=t.inertia=t.density=1/0,t.inverseMass=t.inverseInertia=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.angularVelocity=0,t.speed=0,t.angularSpeed=0,t.motion=0):t._original&&(t.restitution=t._original.restitution,t.friction=t._original.friction,t.mass=t._original.mass,t.inertia=t._original.inertia,t.density=t._original.density,t.inverseMass=t._original.inverseMass,t.inverseInertia=t._original.inverseInertia,delete t._original)}},o.setMass=function(body,e){var t=body.inertia/(body.mass/6);body.inertia=t*(e/6),body.inverseInertia=1/body.inertia,body.mass=e,body.inverseMass=1/body.mass,body.density=body.mass/body.area},o.setDensity=function(body,e){o.setMass(body,e*body.area),body.density=e},o.setInertia=function(body,e){body.inertia=e,body.inverseInertia=1/body.inertia},o.setVertices=function(body,e){e[0].body===body?body.vertices=e:body.vertices=r.create(e,body),body.axes=m.fromVertices(body.vertices),body.area=r.area(body.vertices),o.setMass(body,body.density*body.area);var t=r.centre(body.vertices);r.translate(body.vertices,t,-1),o.setInertia(body,o._inertiaScale*r.inertia(body.vertices,body.mass)),r.translate(body.vertices,body.position),f.update(body.bounds,body.vertices,body.velocity)},o.setParts=function(body,e,t){var i;for(e=e.slice(0),body.parts.length=0,body.parts.push(body),body.parent=body,i=0;i<e.length;i++){var n=e[i];n!==body&&(n.parent=body,body.parts.push(n))}if(1!==body.parts.length){if(t=void 0===t||t){var l=[];for(i=0;i<e.length;i++)l=l.concat(e[i].vertices);r.clockwiseSort(l);var c=r.hull(l),d=r.centre(c);o.setVertices(body,c),r.translate(body.vertices,d)}var f=o._totalProperties(body);body.area=f.area,body.parent=body,body.position.x=f.centre.x,body.position.y=f.centre.y,body.positionPrev.x=f.centre.x,body.positionPrev.y=f.centre.y,o.setMass(body,f.mass),o.setInertia(body,f.inertia),o.setPosition(body,f.centre)}},o.setPosition=function(body,e){var t=l.sub(e,body.position);body.positionPrev.x+=t.x,body.positionPrev.y+=t.y;for(var i=0;i<body.parts.length;i++){var n=body.parts[i];n.position.x+=t.x,n.position.y+=t.y,r.translate(n.vertices,t),f.update(n.bounds,n.vertices,body.velocity)}},o.setAngle=function(body,e){var t=e-body.angle;body.anglePrev+=t;for(var i=0;i<body.parts.length;i++){var n=body.parts[i];n.angle+=t,r.rotate(n.vertices,t,body.position),m.rotate(n.axes,t),f.update(n.bounds,n.vertices,body.velocity),i>0&&l.rotateAbout(n.position,t,body.position,n.position)}},o.setVelocity=function(body,e){body.positionPrev.x=body.position.x-e.x,body.positionPrev.y=body.position.y-e.y,body.velocity.x=e.x,body.velocity.y=e.y,body.speed=l.magnitude(body.velocity)},o.setAngularVelocity=function(body,e){body.anglePrev=body.angle-e,body.angularVelocity=e,body.angularSpeed=Math.abs(body.angularVelocity)},o.translate=function(body,e){o.setPosition(body,l.add(body.position,e))},o.rotate=function(body,e,t){if(t){var n=Math.cos(e),r=Math.sin(e),l=body.position.x-t.x,c=body.position.y-t.y;o.setPosition(body,{x:t.x+(l*n-c*r),y:t.y+(l*r+c*n)}),o.setAngle(body,body.angle+e)}else o.setAngle(body,body.angle+e)},o.scale=function(body,e,t,n){var l=0,c=0;n=n||body.position;for(var i=0;i<body.parts.length;i++){var d=body.parts[i];r.scale(d.vertices,e,t,n),d.axes=m.fromVertices(d.vertices),d.area=r.area(d.vertices),o.setMass(d,body.density*d.area),r.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),o.setInertia(d,o._inertiaScale*r.inertia(d.vertices,d.mass)),r.translate(d.vertices,{x:d.position.x,y:d.position.y}),i>0&&(l+=d.area,c+=d.inertia),d.position.x=n.x+(d.position.x-n.x)*e,d.position.y=n.y+(d.position.y-n.y)*t,f.update(d.bounds,d.vertices,body.velocity)}body.parts.length>1&&(body.area=l,body.isStatic||(o.setMass(body,body.density*l),o.setInertia(body,c))),body.circleRadius&&(e===t?body.circleRadius*=e:body.circleRadius=null)},o.update=function(body,e,t,n){var o=Math.pow(e*t*body.timeScale,2),c=1-body.frictionAir*t*body.timeScale,d=body.position.x-body.positionPrev.x,v=body.position.y-body.positionPrev.y;body.velocity.x=d*c*n+body.force.x/body.mass*o,body.velocity.y=v*c*n+body.force.y/body.mass*o,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.position.x+=body.velocity.x,body.position.y+=body.velocity.y,body.angularVelocity=(body.angle-body.anglePrev)*c*n+body.torque/body.inertia*o,body.anglePrev=body.angle,body.angle+=body.angularVelocity,body.speed=l.magnitude(body.velocity),body.angularSpeed=Math.abs(body.angularVelocity);for(var i=0;i<body.parts.length;i++){var h=body.parts[i];r.translate(h.vertices,body.velocity),i>0&&(h.position.x+=body.velocity.x,h.position.y+=body.velocity.y),0!==body.angularVelocity&&(r.rotate(h.vertices,body.angularVelocity,body.position),m.rotate(h.axes,body.angularVelocity),i>0&&l.rotateAbout(h.position,body.angularVelocity,body.position,h.position)),f.update(h.bounds,h.vertices,body.velocity)}},o.applyForce=function(body,e,t){body.force.x+=t.x,body.force.y+=t.y;var n=e.x-body.position.x,o=e.y-body.position.y;body.torque+=n*t.y-o*t.x},o._totalProperties=function(body){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===body.parts.length?0:1;i<body.parts.length;i++){var t=body.parts[i],n=t.mass!==1/0?t.mass:1;e.mass+=n,e.area+=t.area,e.inertia+=t.inertia,e.centre=l.add(e.centre,l.mult(t.position,n))}return e.centre=l.div(e.centre,e.mass),e}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var o={};t.exports=o;var r=e("../core/Events"),l=e("../core/Common"),c=e("../geometry/Bounds"),d=e("./Body");o.create=function(e){return l.extend({id:l.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},o.setModified=function(e,t,n,r){if(e.isModified=t,n&&e.parent&&o.setModified(e.parent,t,n,r),r)for(var i=0;i<e.composites.length;i++){var l=e.composites[i];o.setModified(l,t,n,r)}},o.add=function(e,object){var t=[].concat(object);r.trigger(e,"beforeAdd",{object:object});for(var i=0;i<t.length;i++){var n=t[i];switch(n.type){case"body":if(n.parent!==n){l.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,n);break;case"constraint":o.addConstraint(e,n);break;case"composite":o.addComposite(e,n);break;case"mouseConstraint":o.addConstraint(e,n.constraint)}}return r.trigger(e,"afterAdd",{object:object}),e},o.remove=function(e,object,t){var n=[].concat(object);r.trigger(e,"beforeRemove",{object:object});for(var i=0;i<n.length;i++){var l=n[i];switch(l.type){case"body":o.removeBody(e,l,t);break;case"constraint":o.removeConstraint(e,l,t);break;case"composite":o.removeComposite(e,l,t);break;case"mouseConstraint":o.removeConstraint(e,l.constraint)}}return r.trigger(e,"afterRemove",{object:object}),e},o.addComposite=function(e,t){return e.composites.push(t),t.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,t,n){var r=l.indexOf(e.composites,t);if(-1!==r&&(o.removeCompositeAt(e,r),o.setModified(e,!0,!0,!1)),n)for(var i=0;i<e.composites.length;i++)o.removeComposite(e.composites[i],t,!0);return e},o.removeCompositeAt=function(e,t){return e.composites.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,body){return e.bodies.push(body),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,body,t){var n=l.indexOf(e.bodies,body);if(-1!==n&&(o.removeBodyAt(e,n),o.setModified(e,!0,!0,!1)),t)for(var i=0;i<e.composites.length;i++)o.removeBody(e.composites[i],body,!0);return e},o.removeBodyAt=function(e,t){return e.bodies.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,t){return e.constraints.push(t),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,t,n){var r=l.indexOf(e.constraints,t);if(-1!==r&&o.removeConstraintAt(e,r),n)for(var i=0;i<e.composites.length;i++)o.removeConstraint(e.composites[i],t,!0);return e},o.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)o.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter((function(body){return body.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){for(var t=[].concat(e.bodies),i=0;i<e.composites.length;i++)t=t.concat(o.allBodies(e.composites[i]));return t},o.allConstraints=function(e){for(var t=[].concat(e.constraints),i=0;i<e.composites.length;i++)t=t.concat(o.allConstraints(e.composites[i]));return t},o.allComposites=function(e){for(var t=[].concat(e.composites),i=0;i<e.composites.length;i++)t=t.concat(o.allComposites(e.composites[i]));return t},o.get=function(e,t,n){var r,object;switch(n){case"body":r=o.allBodies(e);break;case"constraint":r=o.allConstraints(e);break;case"composite":r=o.allComposites(e).concat(e)}return r?0===(object=r.filter((function(object){return object.id.toString()===t.toString()}))).length?null:object[0]:null},o.move=function(e,t,n){return o.remove(e,t),o.add(n,t),e},o.rebase=function(e){for(var t=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),i=0;i<t.length;i++)t[i].id=l.nextId();return o.setModified(e,!0,!0,!1),e},o.translate=function(e,t,n){for(var r=n?o.allBodies(e):e.bodies,i=0;i<r.length;i++)d.translate(r[i],t);return o.setModified(e,!0,!0,!1),e},o.rotate=function(e,t,n,r){for(var l=Math.cos(t),c=Math.sin(t),f=r?o.allBodies(e):e.bodies,i=0;i<f.length;i++){var body=f[i],m=body.position.x-n.x,v=body.position.y-n.y;d.setPosition(body,{x:n.x+(m*l-v*c),y:n.y+(m*c+v*l)}),d.rotate(body,t)}return o.setModified(e,!0,!0,!1),e},o.scale=function(e,t,n,r,l){for(var c=l?o.allBodies(e):e.bodies,i=0;i<c.length;i++){var body=c[i],f=body.position.x-r.x,m=body.position.y-r.y;d.setPosition(body,{x:r.x+f*t,y:r.y+m*n}),d.scale(body,t,n)}return o.setModified(e,!0,!0,!1),e},o.bounds=function(e){for(var t=o.allBodies(e),n=[],i=0;i<t.length;i+=1){var body=t[i];n.push(body.bounds.min,body.bounds.max)}return c.create(n)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var o={};t.exports=o;var r=e("./Composite"),l=(e("../constraint/Constraint"),e("../core/Common"));o.create=function(e){var t=r.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return l.extend(t,n,e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var o={};t.exports=o,o.create=function(e){return{id:o.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},o.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,n){var o={};t.exports=o;var r=e("./SAT"),l=e("./Pair"),c=e("../geometry/Bounds");o.collisions=function(e,t){for(var n=[],d=t.pairs.table,i=0;i<e.length;i++){var f=e[i][0],m=e[i][1];if((!f.isStatic&&!f.isSleeping||!m.isStatic&&!m.isSleeping)&&o.canCollide(f.collisionFilter,m.collisionFilter)&&c.overlaps(f.bounds,m.bounds))for(var v=f.parts.length>1?1:0;v<f.parts.length;v++)for(var h=f.parts[v],y=m.parts.length>1?1:0;y<m.parts.length;y++){var x=m.parts[y];if(h===f&&x===m||c.overlaps(h.bounds,x.bounds)){var w,_=d[l.id(h,x)];w=_&&_.isActive?_.collision:null;var S=r.collides(h,x,w);S.collided&&n.push(S)}}}return n},o.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var o={};t.exports=o;var r=e("./Pair"),l=e("./Detector"),c=e("../core/Common");o.create=function(e){var t={controller:o,detector:l.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return c.extend(t,e)},o.update=function(e,t,n,r){var i,col,l,c,d,f=n.world,m=e.buckets,v=!1;for(i=0;i<t.length;i++){var body=t[i];if((!body.isSleeping||r)&&!(body.bounds.max.x<f.bounds.min.x||body.bounds.min.x>f.bounds.max.x||body.bounds.max.y<f.bounds.min.y||body.bounds.min.y>f.bounds.max.y)){var h=o._getRegion(e,body);if(!body.region||h.id!==body.region.id||r){body.region&&!r||(body.region=h);var y=o._regionUnion(h,body.region);for(col=y.startCol;col<=y.endCol;col++)for(l=y.startRow;l<=y.endRow;l++){c=m[d=o._getBucketId(col,l)];var x=col>=h.startCol&&col<=h.endCol&&l>=h.startRow&&l<=h.endRow,w=col>=body.region.startCol&&col<=body.region.endCol&&l>=body.region.startRow&&l<=body.region.endRow;!x&&w&&w&&c&&o._bucketRemoveBody(e,c,body),(body.region===h||x&&!w||r)&&(c||(c=o._createBucket(m,d)),o._bucketAddBody(e,c,body))}body.region=h,v=!0}}}v&&(e.pairsList=o._createActivePairsList(e))},o.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},o._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),r=Math.max(e.endCol,t.endCol),l=Math.min(e.startRow,t.startRow),c=Math.max(e.endRow,t.endRow);return o._createRegion(n,r,l,c)},o._getRegion=function(e,body){var t=body.bounds,n=Math.floor(t.min.x/e.bucketWidth),r=Math.floor(t.max.x/e.bucketWidth),l=Math.floor(t.min.y/e.bucketHeight),c=Math.floor(t.max.y/e.bucketHeight);return o._createRegion(n,r,l,c)},o._createRegion=function(e,t,n,o){return{id:e+","+t+","+n+","+o,startCol:e,endCol:t,startRow:n,endRow:o}},o._getBucketId=function(e,t){return"C"+e+"R"+t},o._createBucket=function(e,t){return e[t]=[]},o._bucketAddBody=function(e,t,body){for(var i=0;i<t.length;i++){var n=t[i];if(!(body.id===n.id||body.isStatic&&n.isStatic)){var o=r.id(body,n),l=e.pairs[o];l?l[2]+=1:e.pairs[o]=[body,n,1]}}t.push(body)},o._bucketRemoveBody=function(e,t,body){t.splice(c.indexOf(t,body),1);for(var i=0;i<t.length;i++){var n=t[i],o=r.id(body,n),l=e.pairs[o];l&&(l[2]-=1)}},o._createActivePairsList=function(e){var t,n,o=[];t=c.keys(e.pairs);for(var r=0;r<t.length;r++)(n=e.pairs[t[r]])[2]>0?o.push(n):delete e.pairs[t[r]];return o}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var o={};t.exports=o;var r=e("./Contact");o.create=function(e,t){var n=e.bodyA,r=e.bodyB,l=e.parentA,c=e.parentB,d={id:o.id(n,r),bodyA:n,bodyB:r,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||r.isSensor,timeCreated:t,timeUpdated:t,inverseMass:l.inverseMass+c.inverseMass,friction:Math.min(l.friction,c.friction),frictionStatic:Math.max(l.frictionStatic,c.frictionStatic),restitution:Math.max(l.restitution,c.restitution),slop:Math.max(l.slop,c.slop)};return o.update(d,e,t),d},o.update=function(e,t,n){var l=e.contacts,c=t.supports,d=e.activeContacts,f=t.parentA,m=t.parentB;if(e.collision=t,e.inverseMass=f.inverseMass+m.inverseMass,e.friction=Math.min(f.friction,m.friction),e.frictionStatic=Math.max(f.frictionStatic,m.frictionStatic),e.restitution=Math.max(f.restitution,m.restitution),e.slop=Math.max(f.slop,m.slop),d.length=0,t.collided){for(var i=0;i<c.length;i++){var v=c[i],h=r.id(v),y=l[h];y?d.push(y):d.push(l[h]=r.create(v))}e.separation=t.depth,o.setActive(e,!0,n)}else!0===e.isActive&&o.setActive(e,!1,n)},o.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},o.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,n){var o={};t.exports=o;var r=e("./Pair"),l=e("../core/Common");o._pairMaxIdleLife=1e3,o.create=function(e){return l.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},o.update=function(e,t,n){var o,c,d,i,f=e.list,m=e.table,v=e.collisionStart,h=e.collisionEnd,y=e.collisionActive,x=[];for(v.length=0,h.length=0,y.length=0,i=0;i<t.length;i++)(o=t[i]).collided&&(c=r.id(o.bodyA,o.bodyB),x.push(c),(d=m[c])?(d.isActive?y.push(d):v.push(d),r.update(d,o,n)):(d=r.create(o,n),m[c]=d,v.push(d),f.push(d)));for(i=0;i<f.length;i++)(d=f[i]).isActive&&-1===l.indexOf(x,d.id)&&(r.setActive(d,!1,n),h.push(d))},o.removeOld=function(e,t){var n,r,l,i,c=e.list,d=e.table,f=[];for(i=0;i<c.length;i++)(r=(n=c[i]).collision).bodyA.isSleeping||r.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>o._pairMaxIdleLife&&f.push(i);for(i=0;i<f.length;i++)delete d[(n=c[l=f[i]-i]).id],c.splice(l,1)},o.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vector"),l=e("./SAT"),c=e("../geometry/Bounds"),d=e("../factory/Bodies"),f=e("../geometry/Vertices");o.collides=function(body,e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(c.overlaps(n.bounds,body.bounds))for(var o=1===n.parts.length?0:1;o<n.parts.length;o++){var r=n.parts[o];if(c.overlaps(r.bounds,body.bounds)){var d=l.collides(r,body);if(d.collided){t.push(d);break}}}}return t},o.ray=function(e,t,n,l){l=l||1e-100;for(var c=r.angle(t,n),f=r.magnitude(r.sub(t,n)),m=.5*(n.x+t.x),v=.5*(n.y+t.y),h=d.rectangle(m,v,f,l,{angle:c}),y=o.collides(h,e),i=0;i<y.length;i+=1){var x=y[i];x.body=x.bodyB=x.bodyA}return y},o.region=function(e,t,n){for(var o=[],i=0;i<e.length;i++){var body=e[i],r=c.overlaps(body.bounds,t);(r&&!n||!r&&n)&&o.push(body)}return o},o.point=function(e,t){for(var n=[],i=0;i<e.length;i++){var body=e[i];if(c.contains(body.bounds,t))for(var o=1===body.parts.length?0:1;o<body.parts.length;o++){var r=body.parts[o];if(c.contains(r.bounds,t)&&f.contains(r.vertices,t)){n.push(body);break}}}return n}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vertices"),l=e("../geometry/Vector"),c=e("../core/Common"),d=e("../geometry/Bounds");o._restingThresh=4,o._restingThreshTangent=6,o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o.preSolvePosition=function(e){var i,t,n;for(i=0;i<e.length;i++)(t=e[i]).isActive&&(n=t.activeContacts.length,t.collision.parentA.totalContacts+=n,t.collision.parentB.totalContacts+=n)},o.solvePosition=function(e,t){var i,n,r,c,d,f,m,v,h,y=l._temp[0],x=l._temp[1],w=l._temp[2],_=l._temp[3];for(i=0;i<e.length;i++)(n=e[i]).isActive&&!n.isSensor&&(c=(r=n.collision).parentA,d=r.parentB,f=r.normal,m=l.sub(l.add(d.positionImpulse,d.position,y),l.add(c.positionImpulse,l.sub(d.position,r.penetration,x),w),_),n.separation=l.dot(f,m));for(i=0;i<e.length;i++)(n=e[i]).isActive&&!n.isSensor&&(c=(r=n.collision).parentA,d=r.parentB,f=r.normal,h=(n.separation-n.slop)*t,(c.isStatic||d.isStatic)&&(h*=2),c.isStatic||c.isSleeping||(v=o._positionDampen/c.totalContacts,c.positionImpulse.x+=f.x*h*v,c.positionImpulse.y+=f.y*h*v),d.isStatic||d.isSleeping||(v=o._positionDampen/d.totalContacts,d.positionImpulse.x-=f.x*h*v,d.positionImpulse.y-=f.y*h*v))},o.postSolvePosition=function(e){for(var i=0;i<e.length;i++){var body=e[i];if(body.totalContacts=0,0!==body.positionImpulse.x||0!==body.positionImpulse.y){for(var t=0;t<body.parts.length;t++){var n=body.parts[t];r.translate(n.vertices,body.positionImpulse),d.update(n.bounds,n.vertices,body.velocity),n.position.x+=body.positionImpulse.x,n.position.y+=body.positionImpulse.y}body.positionPrev.x+=body.positionImpulse.x,body.positionPrev.y+=body.positionImpulse.y,l.dot(body.positionImpulse,body.velocity)<0?(body.positionImpulse.x=0,body.positionImpulse.y=0):(body.positionImpulse.x*=o._positionWarming,body.positionImpulse.y*=o._positionWarming)}}},o.preSolveVelocity=function(e){var i,t,n,o,r,c,d,f,m,v,h,y,x,w,_=l._temp[0],S=l._temp[1];for(i=0;i<e.length;i++)if((n=e[i]).isActive&&!n.isSensor)for(o=n.activeContacts,c=(r=n.collision).parentA,d=r.parentB,f=r.normal,m=r.tangent,t=0;t<o.length;t++)h=(v=o[t]).vertex,y=v.normalImpulse,x=v.tangentImpulse,0===y&&0===x||(_.x=f.x*y+m.x*x,_.y=f.y*y+m.y*x,c.isStatic||c.isSleeping||(w=l.sub(h,c.position,S),c.positionPrev.x+=_.x*c.inverseMass,c.positionPrev.y+=_.y*c.inverseMass,c.anglePrev+=l.cross(w,_)*c.inverseInertia),d.isStatic||d.isSleeping||(w=l.sub(h,d.position,S),d.positionPrev.x-=_.x*d.inverseMass,d.positionPrev.y-=_.y*d.inverseMass,d.anglePrev-=l.cross(w,_)*d.inverseInertia))},o.solveVelocity=function(e,t){for(var n=t*t,r=l._temp[0],d=l._temp[1],f=l._temp[2],m=l._temp[3],v=l._temp[4],h=l._temp[5],i=0;i<e.length;i++){var y=e[i];if(y.isActive&&!y.isSensor){var x=y.collision,w=x.parentA,_=x.parentB,S=x.normal,C=x.tangent,A=y.activeContacts,M=1/A.length;w.velocity.x=w.position.x-w.positionPrev.x,w.velocity.y=w.position.y-w.positionPrev.y,_.velocity.x=_.position.x-_.positionPrev.x,_.velocity.y=_.position.y-_.positionPrev.y,w.angularVelocity=w.angle-w.anglePrev,_.angularVelocity=_.angle-_.anglePrev;for(var k=0;k<A.length;k++){var P=A[k],B=P.vertex,I=l.sub(B,w.position,d),T=l.sub(B,_.position,f),F=l.add(w.velocity,l.mult(l.perp(I),w.angularVelocity),m),R=l.add(_.velocity,l.mult(l.perp(T),_.angularVelocity),v),L=l.sub(F,R,h),O=l.dot(S,L),V=l.dot(C,L),E=Math.abs(V),W=c.sign(V),D=(1+y.restitution)*O,$=c.clamp(y.separation+O,0,1)*o._frictionNormalMultiplier,j=V,N=1/0;E>y.friction*y.frictionStatic*$*n&&(N=E,j=c.clamp(y.friction*W*n,-N,N));var H=l.cross(I,S),U=l.cross(T,S),G=M/(w.inverseMass+_.inverseMass+w.inverseInertia*H*H+_.inverseInertia*U*U);if(D*=G,j*=G,O<0&&O*O>o._restingThresh*n)P.normalImpulse=0;else{var z=P.normalImpulse;P.normalImpulse=Math.min(P.normalImpulse+D,0),D=P.normalImpulse-z}if(V*V>o._restingThreshTangent*n)P.tangentImpulse=0;else{var X=P.tangentImpulse;P.tangentImpulse=c.clamp(P.tangentImpulse+j,-N,N),j=P.tangentImpulse-X}r.x=S.x*D+C.x*j,r.y=S.y*D+C.y*j,w.isStatic||w.isSleeping||(w.positionPrev.x+=r.x*w.inverseMass,w.positionPrev.y+=r.y*w.inverseMass,w.anglePrev+=l.cross(I,r)*w.inverseInertia),_.isStatic||_.isSleeping||(_.positionPrev.x-=r.x*_.inverseMass,_.positionPrev.y-=r.y*_.inverseMass,_.anglePrev-=l.cross(T,r)*_.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vertices"),l=e("../geometry/Vector");o.collides=function(e,t,n){var c,d,f,m,v=!1;if(n){var h=e.parent,y=t.parent,x=h.speed*h.speed+h.angularSpeed*h.angularSpeed+y.speed*y.speed+y.angularSpeed*y.angularSpeed;v=n&&n.collided&&x<.2,m=n}else m={collided:!1,bodyA:e,bodyB:t};if(n&&v){var w=m.axisBody,_=w===e?t:e,S=[w.axes[n.axisNumber]];if(f=o._overlapAxes(w.vertices,_.vertices,S),m.reused=!0,f.overlap<=0)return m.collided=!1,m}else{if((c=o._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return m.collided=!1,m;if((d=o._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return m.collided=!1,m;c.overlap<d.overlap?(f=c,m.axisBody=e):(f=d,m.axisBody=t),m.axisNumber=f.axisNumber}m.bodyA=e.id<t.id?e:t,m.bodyB=e.id<t.id?t:e,m.collided=!0,m.depth=f.overlap,m.parentA=m.bodyA.parent,m.parentB=m.bodyB.parent,e=m.bodyA,t=m.bodyB,l.dot(f.axis,l.sub(t.position,e.position))<0?m.normal={x:f.axis.x,y:f.axis.y}:m.normal={x:-f.axis.x,y:-f.axis.y},m.tangent=l.perp(m.normal),m.penetration=m.penetration||{},m.penetration.x=m.normal.x*m.depth,m.penetration.y=m.normal.y*m.depth;var C=o._findSupports(e,t,m.normal),A=[];if(r.contains(e.vertices,C[0])&&A.push(C[0]),r.contains(e.vertices,C[1])&&A.push(C[1]),A.length<2){var M=o._findSupports(t,e,l.neg(m.normal));r.contains(t.vertices,M[0])&&A.push(M[0]),A.length<2&&r.contains(t.vertices,M[1])&&A.push(M[1])}return A.length<1&&(A=[C[0]]),m.supports=A,m},o._overlapAxes=function(e,t,n){for(var r,c,d=l._temp[0],f=l._temp[1],m={overlap:Number.MAX_VALUE},i=0;i<n.length;i++){if(c=n[i],o._projectToAxis(d,e,c),o._projectToAxis(f,t,c),(r=Math.min(d.max-f.min,f.max-d.min))<=0)return m.overlap=r,m;r<m.overlap&&(m.overlap=r,m.axis=c,m.axisNumber=i)}return m},o._projectToAxis=function(e,t,n){for(var o=l.dot(t[0],n),r=o,i=1;i<t.length;i+=1){var c=l.dot(t[i],n);c>r?r=c:c<o&&(o=c)}e.min=o,e.max=r},o._findSupports=function(e,t,n){for(var o,r,c,d,f=Number.MAX_VALUE,m=l._temp[0],v=t.vertices,h=e.position,i=0;i<v.length;i++)r=v[i],m.x=r.x-h.x,m.y=r.y-h.y,(o=-l.dot(n,m))<f&&(f=o,c=r);return r=v[c.index-1>=0?c.index-1:v.length-1],m.x=r.x-h.x,m.y=r.y-h.y,f=-l.dot(n,m),d=r,r=v[(c.index+1)%v.length],m.x=r.x-h.x,m.y=r.y-h.y,(o=-l.dot(n,m))<f&&(d=r),[c,d]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vertices"),l=e("../geometry/Vector"),c=e("../core/Sleeping"),d=e("../geometry/Bounds"),f=e("../geometry/Axes"),m=e("../core/Common");o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?l.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?l.add(t.bodyB.position,t.pointB):t.pointB,r=l.magnitude(l.sub(n,o));t.length=void 0!==t.length?t.length:r,t.id=t.id||m.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var c={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(c.type="pin",c.anchors=!1):t.stiffness<.9&&(c.type="spring"),t.render=m.extend(c,t.render),t},o.preSolveAll=function(e){for(var i=0;i<e.length;i+=1){var body=e[i],t=body.constraintImpulse;body.isStatic||0===t.x&&0===t.y&&0===t.angle||(body.position.x+=t.x,body.position.y+=t.y,body.angle+=t.angle)}},o.solveAll=function(e,t){for(var i=0;i<e.length;i+=1){var n=e[i],r=!n.bodyA||n.bodyA&&n.bodyA.isStatic,l=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(r||l)&&o.solve(e[i],t)}for(i=0;i<e.length;i+=1)r=!(n=e[i]).bodyA||n.bodyA&&n.bodyA.isStatic,l=!n.bodyB||n.bodyB&&n.bodyB.isStatic,r||l||o.solve(e[i],t)},o.solve=function(e,t){var n=e.bodyA,r=e.bodyB,c=e.pointA,d=e.pointB;if(n||r){n&&!n.isStatic&&(l.rotate(c,n.angle-e.angleA,c),e.angleA=n.angle),r&&!r.isStatic&&(l.rotate(d,r.angle-e.angleB,d),e.angleB=r.angle);var f=c,m=d;if(n&&(f=l.add(n.position,c)),r&&(m=l.add(r.position,d)),f&&m){var v=l.sub(f,m),h=l.magnitude(v);h<o._minLength&&(h=o._minLength);var y,x,w,_,S,C=(h-e.length)/h,A=e.stiffness<1?e.stiffness*t:e.stiffness,M=l.mult(v,C*A),k=(n?n.inverseMass:0)+(r?r.inverseMass:0),P=k+((n?n.inverseInertia:0)+(r?r.inverseInertia:0));if(e.damping){var B=l.create();w=l.div(v,h),S=l.sub(r&&l.sub(r.position,r.positionPrev)||B,n&&l.sub(n.position,n.positionPrev)||B),_=l.dot(w,S)}n&&!n.isStatic&&(x=n.inverseMass/k,n.constraintImpulse.x-=M.x*x,n.constraintImpulse.y-=M.y*x,n.position.x-=M.x*x,n.position.y-=M.y*x,e.damping&&(n.positionPrev.x-=e.damping*w.x*_*x,n.positionPrev.y-=e.damping*w.y*_*x),y=l.cross(c,M)/P*o._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=y,n.angle-=y),r&&!r.isStatic&&(x=r.inverseMass/k,r.constraintImpulse.x+=M.x*x,r.constraintImpulse.y+=M.y*x,r.position.x+=M.x*x,r.position.y+=M.y*x,e.damping&&(r.positionPrev.x+=e.damping*w.x*_*x,r.positionPrev.y+=e.damping*w.y*_*x),y=l.cross(d,M)/P*o._torqueDampen*r.inverseInertia*(1-e.angularStiffness),r.constraintImpulse.angle+=y,r.angle+=y)}}},o.postSolveAll=function(e){for(var i=0;i<e.length;i++){var body=e[i],t=body.constraintImpulse;if(!(body.isStatic||0===t.x&&0===t.y&&0===t.angle)){c.set(body,!1);for(var n=0;n<body.parts.length;n++){var m=body.parts[n];r.translate(m.vertices,t),n>0&&(m.position.x+=t.x,m.position.y+=t.y),0!==t.angle&&(r.rotate(m.vertices,t.angle,body.position),f.rotate(m.axes,t.angle),n>0&&l.rotateAbout(m.position,t.angle,body.position,m.position)),d.update(m.bounds,m.vertices,body.velocity)}t.angle*=o._warming,t.x*=o._warming,t.y*=o._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vertices"),l=e("../core/Sleeping"),c=e("../core/Mouse"),d=e("../core/Events"),f=e("../collision/Detector"),m=e("./Constraint"),v=e("../body/Composite"),h=e("../core/Common"),y=e("../geometry/Bounds");o.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=c.create(e.render.canvas):t&&t.element?n=c.create(t.element):(n=c.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var r={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:m.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},l=h.extend(r,t);return d.on(e,"beforeUpdate",(function(){var t=v.allBodies(e.world);o.update(l,t),o._triggerEvents(l)})),l},o.update=function(e,t){var n=e.mouse,o=e.constraint,body=e.body;if(0===n.button){if(o.bodyB)l.set(o.bodyB,!1),o.pointA=n.position;else for(var i=0;i<t.length;i++)if(body=t[i],y.contains(body.bounds,n.position)&&f.canCollide(body.collisionFilter,e.collisionFilter))for(var c=body.parts.length>1?1:0;c<body.parts.length;c++){var m=body.parts[c];if(r.contains(m.vertices,n.position)){o.pointA=n.position,o.bodyB=e.body=body,o.pointB={x:n.position.x-body.position.x,y:n.position.y-body.position.y},o.angleB=body.angle,l.set(body,!1),d.trigger(e,"startdrag",{mouse:n,body:body});break}}}else o.bodyB=e.body=null,o.pointB=null,body&&d.trigger(e,"enddrag",{mouse:n,body:body})},o._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&d.trigger(e,"mousemove",{mouse:t}),n.mousedown&&d.trigger(e,"mousedown",{mouse:t}),n.mouseup&&d.trigger(e,"mouseup",{mouse:t}),c.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(e,n,o){(function(t){var o={};n.exports=o,function(){o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o.extend=function(e,t){var n,r;"boolean"==typeof t?(n=2,r=t):(n=1,r=!0);for(var i=n;i<arguments.length;i++){var source=arguments[i];if(source)for(var l in source)r&&source[l]&&source[l].constructor===Object?e[l]&&e[l].constructor!==Object?e[l]=source[l]:(e[l]=e[l]||{},o.extend(e[l],r,source[l])):e[l]=source[l]}return e},o.clone=function(e,t){return o.extend({},t,e)},o.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}for(var o in e)t.push(e[o]);return t},o.get=function(e,path,t,n){path=path.split(".").slice(t,n);for(var i=0;i<path.length;i+=1)e=e[path[i]];return e},o.set=function(e,path,t,n,r){var l=path.split(".").slice(n,r);return o.get(e,path,0,-1)[l[l.length-1]]=t,t},o.shuffle=function(e){for(var i=e.length-1;i>0;i--){var t=Math.floor(o.random()*(i+1)),n=e[i];e[i]=e[t],e[t]=n}return e},o.choose=function(e){return e[Math.floor(o.random()*e.length)]},o.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},o.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isFunction=function(e){return"function"==typeof e},o.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},o.isString=function(e){return"[object String]"===toString.call(e)},o.clamp=function(e,t,n){return e<t?t:e>n?n:e},o.sign=function(e){return e<0?-1:1},o.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-o._nowStartTime},o.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)};var n=function(){return o._seed=(9301*o._seed+49297)%233280,o._seed/233280};o.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.nextId=function(){return o._nextId++},o.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},o.map=function(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n},o.topologicalSort=function(e){var t=[],n=[],r=[];for(var l in e)n[l]||r[l]||o._topologicalSort(l,n,r,e,t);return t},o._topologicalSort=function(e,t,n,r,l){var c=r[e]||[];n[e]=!0;for(var i=0;i<c.length;i+=1){var d=c[i];n[d]||t[d]||o._topologicalSort(d,t,n,r,l)}n[e]=!1,t[e]=!0,l.push(e)},o.chain=function(){for(var e=[],i=0;i<arguments.length;i+=1){var t=arguments[i];t._chained?e.push.apply(e,t._chained):e.push(t)}var n=function(){for(var t,n=new Array(arguments.length),i=0,o=arguments.length;i<o;i++)n[i]=arguments[i];for(i=0;i<e.length;i+=1){var r=e[i].apply(t,n);void 0!==r&&(t=r)}return t};return n._chained=e,n},o.chainPathBefore=function(base,path,e){return o.set(base,path,o.chain(e,o.get(base,path)))},o.chainPathAfter=function(base,path,e){return o.set(base,path,o.chain(o.get(base,path),e))},o._requireGlobal=function(n,o){return("undefined"!=typeof window?window[n]:void 0!==t?t[n]:null)||e(o)}}()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){var o={};t.exports=o;var r=e("../body/World"),l=e("./Sleeping"),c=e("../collision/Resolver"),d=e("../render/Render"),f=e("../collision/Pairs"),m=(e("./Metrics"),e("../collision/Grid")),v=e("./Events"),h=e("../body/Composite"),y=e("../constraint/Constraint"),x=e("./Common"),w=e("../body/Body");o.create=function(element,e){e=(e=x.isElement(element)?e:element)||{},((element=x.isElement(element)?element:null)||e.render)&&x.warn("Engine.create: engine.render is deprecated (see docs)");var t={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:m}},n=x.extend(t,e);if(element||n.render){var o={element:element,controller:d};n.render=x.extend(o,n.render)}return n.render&&n.render.controller&&(n.render=n.render.controller.create(n.render)),n.render&&(n.render.engine=n),n.world=e.world||r.create(n.world),n.pairs=f.create(),n.broadphase=n.broadphase.controller.create(n.broadphase),n.metrics=n.metrics||{extended:!1},n},o.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,r=e.world,d=e.timing,m=e.broadphase,x=[];d.timestamp+=t*d.timeScale;var w={timestamp:d.timestamp};v.trigger(e,"beforeUpdate",w);var _=h.allBodies(r),S=h.allConstraints(r);for(e.enableSleeping&&l.update(_,d.timeScale),o._bodiesApplyGravity(_,r.gravity),o._bodiesUpdate(_,t,d.timeScale,n,r.bounds),y.preSolveAll(_),i=0;i<e.constraintIterations;i++)y.solveAll(S,d.timeScale);y.postSolveAll(_),m.controller?(r.isModified&&m.controller.clear(m),m.controller.update(m,_,e,r.isModified),x=m.pairsList):x=_,r.isModified&&h.setModified(r,!1,!1,!0);var C=m.detector(x,e),A=e.pairs,M=d.timestamp;for(f.update(A,C,M),f.removeOld(A,M),e.enableSleeping&&l.afterCollisions(A.list,d.timeScale),A.collisionStart.length>0&&v.trigger(e,"collisionStart",{pairs:A.collisionStart}),c.preSolvePosition(A.list),i=0;i<e.positionIterations;i++)c.solvePosition(A.list,d.timeScale);for(c.postSolvePosition(_),y.preSolveAll(_),i=0;i<e.constraintIterations;i++)y.solveAll(S,d.timeScale);for(y.postSolveAll(_),c.preSolveVelocity(A.list),i=0;i<e.velocityIterations;i++)c.solveVelocity(A.list,d.timeScale);return A.collisionActive.length>0&&v.trigger(e,"collisionActive",{pairs:A.collisionActive}),A.collisionEnd.length>0&&v.trigger(e,"collisionEnd",{pairs:A.collisionEnd}),o._bodiesClearForces(_),v.trigger(e,"afterUpdate",w),e},o.merge=function(e,t){if(x.extend(e,t),t.world){e.world=t.world,o.clear(e);for(var n=h.allBodies(e.world),i=0;i<n.length;i++){var body=n[i];l.set(body,!1),body.id=x.nextId()}}},o.clear=function(e){var t=e.world;f.clear(e.pairs);var n=e.broadphase;if(n.controller){var o=h.allBodies(t);n.controller.clear(n),n.controller.update(n,o,e,!0)}},o._bodiesClearForces=function(e){for(var i=0;i<e.length;i++){var body=e[i];body.force.x=0,body.force.y=0,body.torque=0}},o._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var i=0;i<e.length;i++){var body=e[i];body.isStatic||body.isSleeping||(body.force.y+=body.mass*t.y*n,body.force.x+=body.mass*t.x*n)}},o._bodiesUpdate=function(e,t,n,o,r){for(var i=0;i<e.length;i++){var body=e[i];body.isStatic||body.isSleeping||w.update(body,t,n,o)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var o={};t.exports=o;var r=e("./Common");o.on=function(object,e,t){for(var n,o=e.split(" "),i=0;i<o.length;i++)n=o[i],object.events=object.events||{},object.events[n]=object.events[n]||[],object.events[n].push(t);return t},o.off=function(object,e,t){if(e){"function"==typeof e&&(t=e,e=r.keys(object.events).join(" "));for(var n=e.split(" "),i=0;i<n.length;i++){var o=object.events[n[i]],l=[];if(t&&o)for(var c=0;c<o.length;c++)o[c]!==t&&l.push(o[c]);object.events[n[i]]=l}}else object.events={}},o.trigger=function(object,e,t){var n,o,l,c;if(object.events){t||(t={}),n=e.split(" ");for(var i=0;i<n.length;i++)if(o=n[i],l=object.events[o]){(c=r.clone(t,!1)).name=o,c.source=object;for(var d=0;d<l.length;d++)l[d].apply(object,[c])}}}},{"./Common":14}],17:[function(e,t,n){var o={};t.exports=o;var r=e("./Plugin"),l=e("./Common");o.name="matter-js",o.version="0.14.2",o.uses=[],o.used=[],o.use=function(){r.use(o,Array.prototype.slice.call(arguments))},o.before=function(path,e){return path=path.replace(/^Matter./,""),l.chainPathBefore(o,path,e)},o.after=function(path,e){return path=path.replace(/^Matter./,""),l.chainPathAfter(o,path,e)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var o={};t.exports=o;var r=e("../core/Common");o.create=function(element){var e={};return element||r.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=element||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=e.element.getAttribute("data-pixel-ratio")||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var n=o._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var n=o._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var n=o._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=n.x,e.absolute.y=n.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault()},o.setElement(e,e.element),e},o.setElement=function(e,element){e.element=element,element.addEventListener("mousemove",e.mousemove),element.addEventListener("mousedown",e.mousedown),element.addEventListener("mouseup",e.mouseup),element.addEventListener("mousewheel",e.mousewheel),element.addEventListener("DOMMouseScroll",e.mousewheel),element.addEventListener("touchmove",e.mousemove),element.addEventListener("touchstart",e.mousedown),element.addEventListener("touchend",e.mouseup)},o.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},o.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o._getRelativeMousePosition=function(e,element,t){var n,o,r=element.getBoundingClientRect(),l=document.documentElement||document.body.parentNode||document.body,c=void 0!==window.pageXOffset?window.pageXOffset:l.scrollLeft,d=void 0!==window.pageYOffset?window.pageYOffset:l.scrollTop,f=e.changedTouches;return f?(n=f[0].pageX-r.left-c,o=f[0].pageY-r.top-d):(n=e.pageX-r.left-c,o=e.pageY-r.top-d),{x:n/(element.clientWidth/(element.width||element.clientWidth)*t),y:o/(element.clientHeight/(element.height||element.clientHeight)*t)}}},{"../core/Common":14}],20:[function(e,t,n){var o={};t.exports=o;var r=e("./Common");o._registry={},o.register=function(e){if(o.isPlugin(e)||r.warn("Plugin.register:",o.toString(e),"does not implement all required fields."),e.name in o._registry){var t=o._registry[e.name],n=o.versionParse(e.version).number,l=o.versionParse(t.version).number;n>l?(r.warn("Plugin.register:",o.toString(t),"was upgraded to",o.toString(e)),o._registry[e.name]=e):n<l?r.warn("Plugin.register:",o.toString(t),"can not be downgraded to",o.toString(e)):e!==t&&r.warn("Plugin.register:",o.toString(e),"is already registered to different plugin object")}else o._registry[e.name]=e;return e},o.resolve=function(e){return o._registry[o.dependencyParse(e).name]},o.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},o.isPlugin=function(e){return e&&e.name&&e.version&&e.install},o.isUsed=function(e,t){return e.used.indexOf(t)>-1},o.isFor=function(e,t){var n=e.for&&o.dependencyParse(e.for);return!e.for||t.name===n.name&&o.versionSatisfies(t.version,n.range)},o.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=o.dependencies(e),l=r.topologicalSort(n),c=[],i=0;i<l.length;i+=1)if(l[i]!==e.name){var d=o.resolve(l[i]);d?o.isUsed(e,d.name)||(o.isFor(d,e)||(r.warn("Plugin.use:",o.toString(d),"is for",d.for,"but installed on",o.toString(e)+"."),d._warned=!0),d.install?d.install(e):(r.warn("Plugin.use:",o.toString(d),"does not specify an install function."),d._warned=!0),d._warned?(c.push("🔶 "+o.toString(d)),delete d._warned):c.push("✅ "+o.toString(d)),e.used.push(d.name)):c.push("❌ "+l[i])}c.length>0&&r.info(c.join("  "))}else r.warn("Plugin.use:",o.toString(e),"does not specify any dependencies to install.")},o.dependencies=function(e,t){var n=o.dependencyParse(e),l=n.name;if(!(l in(t=t||{}))){e=o.resolve(e)||e,t[l]=r.map(e.uses||[],(function(t){o.isPlugin(t)&&o.register(t);var l=o.dependencyParse(t),c=o.resolve(t);return c&&!o.versionSatisfies(c.version,l.range)?(r.warn("Plugin.dependencies:",o.toString(c),"does not satisfy",o.toString(l),"used by",o.toString(n)+"."),c._warned=!0,e._warned=!0):c||(r.warn("Plugin.dependencies:",o.toString(t),"used by",o.toString(n),"could not be resolved."),e._warned=!0),l.name}));for(var i=0;i<t[l].length;i+=1)o.dependencies(t[l][i],t);return t}},o.dependencyParse=function(e){return r.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||r.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},o.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||r.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),o=n?e.substr(1):e,l=r.map(o.split("."),(function(e){return Number(e)}));return{isRange:n,version:o,range:e,operator:n?e[0]:"",parts:l,prerelease:t[1],number:1e8*l[0]+1e4*l[1]+l[2]}},o.versionSatisfies=function(e,t){t=t||"*";var n=o.versionParse(t),r=n.parts,l=o.versionParse(e),c=l.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return c[0]===r[0]&&c[1]===r[1]&&c[2]>=r[2];if("^"===n.operator)return r[0]>0?c[0]===r[0]&&l.number>=n.number:r[1]>0?c[1]===r[1]&&c[2]>=r[2]:c[2]===r[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,n){var o={};t.exports=o;var r,l,c,d=e("./Events"),f=e("./Engine"),m=e("./Common");"undefined"!=typeof window&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r||(r=function(e){c=setTimeout((function(){e(m.now())}),1e3/60)},l=function(){clearTimeout(c)}),o.create=function(e){var t=m.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},o.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=o.create()),function n(time){e.frameRequestId=r(n),time&&e.enabled&&o.tick(e,t,time)}(),e},o.tick=function(e,t,time){var n,o=t.timing,r=1,l={timestamp:o.timestamp};d.trigger(e,"beforeTick",l),d.trigger(t,"beforeTick",l),e.isFixed?n=e.delta:(n=time-e.timePrev||e.delta,e.timePrev=time,e.deltaHistory.push(n),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),r=(n=(n=(n=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:n)>e.deltaMax?e.deltaMax:n)/e.delta,e.delta=n),0!==e.timeScalePrev&&(r*=o.timeScale/e.timeScalePrev),0===o.timeScale&&(r=0),e.timeScalePrev=o.timeScale,e.correction=r,e.frameCounter+=1,time-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((time-e.counterTimestamp)/1e3),e.counterTimestamp=time,e.frameCounter=0),d.trigger(e,"tick",l),d.trigger(t,"tick",l),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),d.trigger(e,"beforeUpdate",l),f.update(t,n,r),d.trigger(e,"afterUpdate",l),t.render&&t.render.controller&&(d.trigger(e,"beforeRender",l),d.trigger(t,"beforeRender",l),t.render.controller.world(t.render),d.trigger(e,"afterRender",l),d.trigger(t,"afterRender",l)),d.trigger(e,"afterTick",l),d.trigger(t,"afterTick",l)},o.stop=function(e){l(e.frameRequestId)},o.start=function(e,t){o.run(e,t)}},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var o={};t.exports=o;var r=e("./Events");o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var body=e[i],r=body.speed*body.speed+body.angularSpeed*body.angularSpeed;if(0===body.force.x&&0===body.force.y){var l=Math.min(body.motion,r),c=Math.max(body.motion,r);body.motion=o._minBias*l+(1-o._minBias)*c,body.sleepThreshold>0&&body.motion<o._motionSleepThreshold*n?(body.sleepCounter+=1,body.sleepCounter>=body.sleepThreshold&&o.set(body,!0)):body.sleepCounter>0&&(body.sleepCounter-=1)}else o.set(body,!1)}},o.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var l=r.collision,c=l.bodyA.parent,d=l.bodyB.parent;if(!(c.isSleeping&&d.isSleeping||c.isStatic||d.isStatic)&&(c.isSleeping||d.isSleeping)){var f=c.isSleeping&&!c.isStatic?c:d,m=f===c?d:c;!f.isStatic&&m.motion>o._motionWakeThreshold*n&&o.set(f,!1)}}}},o.set=function(body,e){var t=body.isSleeping;e?(body.isSleeping=!0,body.sleepCounter=body.sleepThreshold,body.positionImpulse.x=0,body.positionImpulse.y=0,body.positionPrev.x=body.position.x,body.positionPrev.y=body.position.y,body.anglePrev=body.angle,body.speed=0,body.angularSpeed=0,body.motion=0,t||r.trigger(body,"sleepStart")):(body.isSleeping=!1,body.sleepCounter=0,t&&r.trigger(body,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,n){var o={};t.exports=o;var r,l=e("../geometry/Vertices"),c=e("../core/Common"),d=e("../body/Body"),f=e("../geometry/Bounds"),m=e("../geometry/Vector");o.rectangle=function(e,t,n,o,r){r=r||{};var f={label:"Rectangle Body",position:{x:e,y:t},vertices:l.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(r.chamfer){var m=r.chamfer;f.vertices=l.chamfer(f.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete r.chamfer}return d.create(c.extend({},f,r))},o.trapezoid=function(e,t,n,o,r,f){f=f||{};var m,v=n*(r*=.5),h=v+(1-2*r)*n,y=h+v;m=r<.5?"L 0 0 L "+v+" "+-o+" L "+h+" "+-o+" L "+y+" 0":"L 0 0 L "+h+" "+-o+" L "+y+" 0";var x={label:"Trapezoid Body",position:{x:e,y:t},vertices:l.fromPath(m)};if(f.chamfer){var w=f.chamfer;x.vertices=l.chamfer(x.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete f.chamfer}return d.create(c.extend({},x,f))},o.circle=function(e,t,n,r,l){r=r||{};var circle={label:"Circle Body",circleRadius:n};l=l||25;var d=Math.ceil(Math.max(10,Math.min(l,n)));return d%2==1&&(d+=1),o.polygon(e,t,d,n,c.extend({},circle,r))},o.polygon=function(e,t,n,r,f){if(f=f||{},n<3)return o.circle(e,t,r,f);for(var m=2*Math.PI/n,path="",v=.5*m,i=0;i<n;i+=1){var h=v+i*m,y=Math.cos(h)*r,x=Math.sin(h)*r;path+="L "+y.toFixed(3)+" "+x.toFixed(3)+" "}var polygon={label:"Polygon Body",position:{x:e,y:t},vertices:l.fromPath(path)};if(f.chamfer){var w=f.chamfer;polygon.vertices=l.chamfer(polygon.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete f.chamfer}return d.create(c.extend({},polygon,f))},o.fromVertices=function(e,t,n,o,v,h,y){var body,x,w,_,i,S,C,A,M;for(r||(r=c._requireGlobal("decomp","poly-decomp")),o=o||{},x=[],v=void 0!==v&&v,h=void 0!==h?h:.01,y=void 0!==y?y:10,r||c.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),c.isArray(n[0])||(n=[n]),A=0;A<n.length;A+=1)if(_=n[A],(w=l.isConvex(_))||!r)_=w?l.clockwiseSort(_):l.hull(_),x.push({position:{x:e,y:t},vertices:_});else{var k=_.map((function(e){return[e.x,e.y]}));r.makeCCW(k),!1!==h&&r.removeCollinearPoints(k,h);var P=r.quickDecomp(k);for(i=0;i<P.length;i++){var B=P[i].map((function(e){return{x:e[0],y:e[1]}}));y>0&&l.area(B)<y||x.push({position:l.centre(B),vertices:B})}}for(i=0;i<x.length;i++)x[i]=d.create(c.extend(x[i],o));if(v)for(i=0;i<x.length;i++){var I=x[i];for(S=i+1;S<x.length;S++){var T=x[S];if(f.overlaps(I.bounds,T.bounds)){var F=I.vertices,R=T.vertices;for(C=0;C<I.vertices.length;C++)for(M=0;M<T.vertices.length;M++){var L=m.magnitudeSquared(m.sub(F[(C+1)%F.length],R[M])),O=m.magnitudeSquared(m.sub(F[C],R[(M+1)%R.length]));L<5&&O<5&&(F[C].isInternal=!0,R[M].isInternal=!0)}}}}return x.length>1?(body=d.create(c.extend({parts:x.slice(0)},o)),d.setPosition(body,{x:e,y:t}),body):x[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var o={};t.exports=o;var r=e("../body/Composite"),l=e("../constraint/Constraint"),c=e("../core/Common"),d=e("../body/Body"),f=e("./Bodies");o.stack=function(e,t,n,o,l,c,f){for(var m,v=r.create({label:"Stack"}),h=e,y=t,i=0,x=0;x<o;x++){for(var w=0,_=0;_<n;_++){var body=f(h,y,_,x,m,i);if(body){var S=body.bounds.max.y-body.bounds.min.y,C=body.bounds.max.x-body.bounds.min.x;S>w&&(w=S),d.translate(body,{x:.5*C,y:.5*S}),h=body.bounds.max.x+l,r.addBody(v,body),m=body,i+=1}else h+=l}y+=w+c,h=e}return v},o.chain=function(e,t,n,o,d,f){for(var m=e.bodies,i=1;i<m.length;i++){var v=m[i-1],h=m[i],y=v.bounds.max.y-v.bounds.min.y,x=v.bounds.max.x-v.bounds.min.x,w=h.bounds.max.y-h.bounds.min.y,_={bodyA:v,pointA:{x:x*t,y:y*n},bodyB:h,pointB:{x:(h.bounds.max.x-h.bounds.min.x)*o,y:w*d}},S=c.extend(_,f);r.addConstraint(e,l.create(S))}return e.label+=" Chain",e},o.mesh=function(e,t,n,o,d){var f,col,m,v,h,y=e.bodies;for(f=0;f<n;f++){for(col=1;col<t;col++)m=y[col-1+f*t],v=y[col+f*t],r.addConstraint(e,l.create(c.extend({bodyA:m,bodyB:v},d)));if(f>0)for(col=0;col<t;col++)m=y[col+(f-1)*t],v=y[col+f*t],r.addConstraint(e,l.create(c.extend({bodyA:m,bodyB:v},d))),o&&col>0&&(h=y[col-1+(f-1)*t],r.addConstraint(e,l.create(c.extend({bodyA:h,bodyB:v},d)))),o&&col<t-1&&(h=y[col+1+(f-1)*t],r.addConstraint(e,l.create(c.extend({bodyA:h,bodyB:v},d))))}return e.label+=" Mesh",e},o.pyramid=function(e,t,n,r,l,c,f){return o.stack(e,t,n,r,l,c,(function(t,o,c,m,v,i){var h=Math.min(r,Math.ceil(n/2)),y=v?v.bounds.max.x-v.bounds.min.x:0;if(!(m>h||c<(m=h-m)||c>n-1-m))return 1===i&&d.translate(v,{x:(c+(n%2==1?1:-1))*y,y:0}),f(e+(v?c*y:0)+c*l,o,c,m,v,i)}))},o.newtonsCradle=function(e,t,n,o,c){for(var d=r.create({label:"Newtons Cradle"}),i=0;i<n;i++){var circle=f.circle(e+i*(1.9*o),t+c,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=l.create({pointA:{x:e+i*(1.9*o),y:t},bodyB:circle});r.addBody(d,circle),r.addConstraint(d,m)}return d},o.car=function(e,t,n,o,c){var m=d.nextGroup(!0),v=.5*-n+20,h=.5*n-20,y=r.create({label:"Car"}),body=f.rectangle(e,t,n,o,{collisionFilter:{group:m},chamfer:{radius:.5*o},density:2e-4}),x=f.circle(e+v,t+0,c,{collisionFilter:{group:m},friction:.8}),w=f.circle(e+h,t+0,c,{collisionFilter:{group:m},friction:.8}),_=l.create({bodyB:body,pointB:{x:v,y:0},bodyA:x,stiffness:1,length:0}),S=l.create({bodyB:body,pointB:{x:h,y:0},bodyA:w,stiffness:1,length:0});return r.addBody(y,body),r.addBody(y,x),r.addBody(y,w),r.addConstraint(y,_),r.addConstraint(y,S),y},o.softBody=function(e,t,n,r,l,d,m,v,h,y){h=c.extend({inertia:1/0},h),y=c.extend({stiffness:.2,render:{type:"line",anchors:!1}},y);var x=o.stack(e,t,n,r,l,d,(function(e,t){return f.circle(e,t,v,h)}));return o.mesh(x,n,r,m,y),x.label="Soft Body",x}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vector"),l=e("../core/Common");o.fromVertices=function(e){for(var t={},i=0;i<e.length;i++){var n=(i+1)%e.length,o=r.normalise({x:e[n].y-e[i].y,y:e[i].x-e[n].x}),c=0===o.y?1/0:o.x/o.y;t[c=c.toFixed(3).toString()]=o}return l.values(t)},o.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),o=Math.sin(t),i=0;i<e.length;i++){var r,l=e[i];r=l.x*n-l.y*o,l.y=l.x*o+l.y*n,l.x=r}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var o={};t.exports=o,o.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&o.update(t,e),t},o.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<t.length;i++){var o=t[i];o.x>e.max.x&&(e.max.x=o.x),o.x<e.min.x&&(e.min.x=o.x),o.y>e.max.y&&(e.max.y=o.y),o.y<e.min.y&&(e.min.y=o.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},o.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},o.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},o.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},o.shift=function(e,t){var n=e.max.x-e.min.x,o=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+o}},{}],27:[function(e,t,n){var o={};t.exports=o,e("../geometry/Bounds");var r=e("../core/Common");o.pathToVertices=function(path,e){"undefined"==typeof window||"SVGPathSeg"in window||r.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,t,n,l,c,d,f,m,v,h,y,x=[],w=0,_=0,S=0;e=e||15;var C=function(e,t,n){var o=n%2==1&&n>1;if(!v||e!=v.x||t!=v.y){v&&o?(h=v.x,y=v.y):(h=0,y=0);var r={x:h+e,y:y+t};!o&&v||(v=r),x.push(r),_=h+e,S=y+t}},A=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":_=e.x,S=e.y;break;case"H":_=e.x;break;case"V":S=e.y}C(_,S,e.pathSegType)}};for(o._svgPathToAbsolute(path),n=path.getTotalLength(),d=[],i=0;i<path.pathSegList.numberOfItems;i+=1)d.push(path.pathSegList.getItem(i));for(f=d.concat();w<n;){if((c=d[path.getPathSegAtLength(w)])!=m){for(;f.length&&f[0]!=c;)A(f.shift());m=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":l=path.getPointAtLength(w),C(l.x,l.y,0)}w+=e}for(i=0,t=f.length;i<t;++i)A(f[i]);return x},o._svgPathToAbsolute=function(path){for(var e,t,n,o,r,l,c=path.pathSegList,d=0,f=0,m=c.numberOfItems,i=0;i<m;++i){var v=c.getItem(i),h=v.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(h))"x"in v&&(d=v.x),"y"in v&&(f=v.y);else switch("x1"in v&&(n=d+v.x1),"x2"in v&&(r=d+v.x2),"y1"in v&&(o=f+v.y1),"y2"in v&&(l=f+v.y2),"x"in v&&(d+=v.x),"y"in v&&(f+=v.y),h){case"m":c.replaceItem(path.createSVGPathSegMovetoAbs(d,f),i);break;case"l":c.replaceItem(path.createSVGPathSegLinetoAbs(d,f),i);break;case"h":c.replaceItem(path.createSVGPathSegLinetoHorizontalAbs(d),i);break;case"v":c.replaceItem(path.createSVGPathSegLinetoVerticalAbs(f),i);break;case"c":c.replaceItem(path.createSVGPathSegCurvetoCubicAbs(d,f,n,o,r,l),i);break;case"s":c.replaceItem(path.createSVGPathSegCurvetoCubicSmoothAbs(d,f,r,l),i);break;case"q":c.replaceItem(path.createSVGPathSegCurvetoQuadraticAbs(d,f,n,o),i);break;case"t":c.replaceItem(path.createSVGPathSegCurvetoQuadraticSmoothAbs(d,f),i);break;case"a":c.replaceItem(path.createSVGPathSegArcAbs(d,f,v.r1,v.r2,v.angle,v.largeArcFlag,v.sweepFlag),i);break;case"z":case"Z":d=e,f=t}"M"!=h&&"m"!=h||(e=d,t=f)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var o={};t.exports=o,o.create=function(e,t){return{x:e||0,y:t||0}},o.clone=function(e){return{x:e.x,y:e.y}},o.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},o.rotate=function(e,t,output){var n=Math.cos(t),o=Math.sin(t);output||(output={});var r=e.x*n-e.y*o;return output.y=e.x*o+e.y*n,output.x=r,output},o.rotateAbout=function(e,t,n,output){var o=Math.cos(t),r=Math.sin(t);output||(output={});var l=n.x+((e.x-n.x)*o-(e.y-n.y)*r);return output.y=n.y+((e.x-n.x)*r+(e.y-n.y)*o),output.x=l,output},o.normalise=function(e){var t=o.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},o.dot=function(e,t){return e.x*t.x+e.y*t.y},o.cross=function(e,t){return e.x*t.y-e.y*t.x},o.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},o.add=function(e,t,output){return output||(output={}),output.x=e.x+t.x,output.y=e.y+t.y,output},o.sub=function(e,t,output){return output||(output={}),output.x=e.x-t.x,output.y=e.y-t.y,output},o.mult=function(e,t){return{x:e.x*t,y:e.y*t}},o.div=function(e,t){return{x:e.x/t,y:e.y/t}},o.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},o.neg=function(e){return{x:-e.x,y:-e.y}},o.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},o._temp=[o.create(),o.create(),o.create(),o.create(),o.create(),o.create()]},{}],29:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Vector"),l=e("../core/Common");o.create=function(e,body){for(var t=[],i=0;i<e.length;i++){var n=e[i],o={x:n.x,y:n.y,index:i,body:body,isInternal:!1};t.push(o)}return t},o.fromPath=function(path,body){var e=[];return path.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,(function(t,n,o){e.push({x:parseFloat(n),y:parseFloat(o)})})),o.create(e,body)},o.centre=function(e){for(var t,n,l,area=o.area(e,!0),c={x:0,y:0},i=0;i<e.length;i++)l=(i+1)%e.length,t=r.cross(e[i],e[l]),n=r.mult(r.add(e[i],e[l]),t),c=r.add(c,n);return r.div(c,6*area)},o.mean=function(e){for(var t={x:0,y:0},i=0;i<e.length;i++)t.x+=e[i].x,t.y+=e[i].y;return r.div(t,e.length)},o.area=function(e,t){for(var area=0,n=e.length-1,i=0;i<e.length;i++)area+=(e[n].x-e[i].x)*(e[n].y+e[i].y),n=i;return t?area/2:Math.abs(area)/2},o.inertia=function(e,t){for(var n,o,l=0,c=0,d=e,f=0;f<d.length;f++)o=(f+1)%d.length,l+=(n=Math.abs(r.cross(d[o],d[f])))*(r.dot(d[o],d[o])+r.dot(d[o],d[f])+r.dot(d[f],d[f])),c+=n;return t/6*(l/c)},o.translate=function(e,t,n){var i;if(n)for(i=0;i<e.length;i++)e[i].x+=t.x*n,e[i].y+=t.y*n;else for(i=0;i<e.length;i++)e[i].x+=t.x,e[i].y+=t.y;return e},o.rotate=function(e,t,n){if(0!==t){for(var o=Math.cos(t),r=Math.sin(t),i=0;i<e.length;i++){var l=e[i],c=l.x-n.x,d=l.y-n.y;l.x=n.x+(c*o-d*r),l.y=n.y+(c*r+d*o)}return e}},o.contains=function(e,t){for(var i=0;i<e.length;i++){var n=e[i],o=e[(i+1)%e.length];if((t.x-n.x)*(o.y-n.y)+(t.y-n.y)*(n.x-o.x)>0)return!1}return!0},o.scale=function(e,t,n,l){if(1===t&&1===n)return e;var c,d;l=l||o.centre(e);for(var i=0;i<e.length;i++)c=e[i],d=r.sub(c,l),e[i].x=l.x+d.x*t,e[i].y=l.y+d.y*n;return e},o.chamfer=function(e,t,n,o,c){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,o=o||2,c=c||14;for(var d=[],i=0;i<e.length;i++){var f=e[i-1>=0?i-1:e.length-1],m=e[i],v=e[(i+1)%e.length],h=t[i<t.length?i:t.length-1];if(0!==h){var y=r.normalise({x:m.y-f.y,y:f.x-m.x}),x=r.normalise({x:v.y-m.y,y:m.x-v.x}),w=Math.sqrt(2*Math.pow(h,2)),_=r.mult(l.clone(y),h),S=r.normalise(r.mult(r.add(y,x),.5)),C=r.sub(m,r.mult(S,w)),A=n;-1===n&&(A=1.75*Math.pow(h,.32)),(A=l.clamp(A,o,c))%2==1&&(A+=1);for(var M=Math.acos(r.dot(y,x))/A,k=0;k<A;k++)d.push(r.add(r.rotate(_,M*k),C))}else d.push(m)}return d},o.clockwiseSort=function(e){var t=o.mean(e);return e.sort((function(e,n){return r.angle(t,e)-r.angle(t,n)})),e},o.isConvex=function(e){var i,t,n,o,r=0,l=e.length;if(l<3)return null;for(i=0;i<l;i++)if(n=(i+2)%l,o=(e[t=(i+1)%l].x-e[i].x)*(e[n].y-e[t].y),(o-=(e[t].y-e[i].y)*(e[n].x-e[t].x))<0?r|=1:o>0&&(r|=2),3===r)return!1;return 0!==r||null},o.hull=function(e){var t,i,n=[],o=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),i=0;i<e.length;i+=1){for(t=e[i];o.length>=2&&r.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}for(i=e.length-1;i>=0;i-=1){for(t=e[i];n.length>=2&&r.cross3(n[n.length-2],n[n.length-1],t)<=0;)n.pop();n.push(t)}return n.pop(),o.pop(),n.concat(o)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var o=t.exports=e("../core/Matter");o.Body=e("../body/Body"),o.Composite=e("../body/Composite"),o.World=e("../body/World"),o.Contact=e("../collision/Contact"),o.Detector=e("../collision/Detector"),o.Grid=e("../collision/Grid"),o.Pairs=e("../collision/Pairs"),o.Pair=e("../collision/Pair"),o.Query=e("../collision/Query"),o.Resolver=e("../collision/Resolver"),o.SAT=e("../collision/SAT"),o.Constraint=e("../constraint/Constraint"),o.MouseConstraint=e("../constraint/MouseConstraint"),o.Common=e("../core/Common"),o.Engine=e("../core/Engine"),o.Events=e("../core/Events"),o.Mouse=e("../core/Mouse"),o.Runner=e("../core/Runner"),o.Sleeping=e("../core/Sleeping"),o.Plugin=e("../core/Plugin"),o.Bodies=e("../factory/Bodies"),o.Composites=e("../factory/Composites"),o.Axes=e("../geometry/Axes"),o.Bounds=e("../geometry/Bounds"),o.Svg=e("../geometry/Svg"),o.Vector=e("../geometry/Vector"),o.Vertices=e("../geometry/Vertices"),o.Render=e("../render/Render"),o.RenderPixi=e("../render/RenderPixi"),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,o.Engine.run=o.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var o={};t.exports=o;var r=e("../core/Common"),l=e("../body/Composite"),c=e("../geometry/Bounds"),d=e("../core/Events"),f=e("../collision/Grid"),m=e("../geometry/Vector"),v=e("../core/Mouse");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(r.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={controller:o,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},l=r.extend(t,e);return l.canvas&&(l.canvas.width=l.options.width||l.canvas.width,l.canvas.height=l.options.height||l.canvas.height),l.mouse=e.mouse,l.engine=e.engine,l.canvas=l.canvas||n(l.options.width,l.options.height),l.context=l.canvas.getContext("2d"),l.textures={},l.bounds=l.bounds||{min:{x:0,y:0},max:{x:l.canvas.width,y:l.canvas.height}},1!==l.options.pixelRatio&&o.setPixelRatio(l,l.options.pixelRatio),r.isElement(l.element)?l.element.appendChild(l.canvas):l.canvas.parentNode||r.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),l},o.run=function(t){!function n(time){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.setPixelRatio=function(e,t){var n=e.options,canvas=e.canvas;"auto"===t&&(t=h(canvas)),n.pixelRatio=t,canvas.setAttribute("data-pixel-ratio",t),canvas.width=n.width*t,canvas.height=n.height*t,canvas.style.width=n.width+"px",canvas.style.height=n.height+"px",e.context.scale(t,t)},o.lookAt=function(e,t,n,o){o=void 0===o||o,t=r.isArray(t)?t:[t],n=n||{x:0,y:0};for(var l={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},i=0;i<t.length;i+=1){var object=t[i],c=object.bounds?object.bounds.min:object.min||object.position||object,d=object.bounds?object.bounds.max:object.max||object.position||object;c&&d&&(c.x<l.min.x&&(l.min.x=c.x),d.x>l.max.x&&(l.max.x=d.x),c.y<l.min.y&&(l.min.y=c.y),d.y>l.max.y&&(l.max.y=d.y))}var f=l.max.x-l.min.x+2*n.x,m=l.max.y-l.min.y+2*n.y,h=e.canvas.height,y=e.canvas.width/h,x=f/m,w=1,_=1;x>y?_=x/y:w=y/x,e.options.hasBounds=!0,e.bounds.min.x=l.min.x,e.bounds.max.x=l.min.x+f*w,e.bounds.min.y=l.min.y,e.bounds.max.y=l.min.y+m*_,o&&(e.bounds.min.x+=.5*f-f*w*.5,e.bounds.max.x+=.5*f-f*w*.5,e.bounds.min.y+=.5*m-m*_*.5,e.bounds.max.y+=.5*m-m*_*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(v.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),v.setOffset(e.mouse,e.bounds.min))},o.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,o=t/e.options.width,r=n/e.options.height;e.context.scale(1/o,1/r),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},o.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},o.world=function(e){var i,t=e.engine,n=t.world,canvas=e.canvas,r=e.context,h=e.options,y=l.allBodies(n),w=l.allConstraints(n),_=h.wireframes?h.wireframeBackground:h.background,S=[],C=[],A={timestamp:t.timing.timestamp};if(d.trigger(e,"beforeRender",A),e.currentBackground!==_&&x(e,_),r.globalCompositeOperation="source-in",r.fillStyle="transparent",r.fillRect(0,0,canvas.width,canvas.height),r.globalCompositeOperation="source-over",h.hasBounds){for(i=0;i<y.length;i++){var body=y[i];c.overlaps(body.bounds,e.bounds)&&S.push(body)}for(i=0;i<w.length;i++){var M=w[i],k=M.bodyA,P=M.bodyB,B=M.pointA,I=M.pointB;k&&(B=m.add(k.position,M.pointA)),P&&(I=m.add(P.position,M.pointB)),B&&I&&(c.contains(e.bounds,B)||c.contains(e.bounds,I))&&C.push(M)}o.startViewTransform(e),e.mouse&&(v.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),v.setOffset(e.mouse,e.bounds.min))}else C=w,S=y;!h.wireframes||t.enableSleeping&&h.showSleeping?o.bodies(e,S,r):(h.showConvexHulls&&o.bodyConvexHulls(e,S,r),o.bodyWireframes(e,S,r)),h.showBounds&&o.bodyBounds(e,S,r),(h.showAxes||h.showAngleIndicator)&&o.bodyAxes(e,S,r),h.showPositions&&o.bodyPositions(e,S,r),h.showVelocity&&o.bodyVelocity(e,S,r),h.showIds&&o.bodyIds(e,S,r),h.showSeparations&&o.separations(e,t.pairs.list,r),h.showCollisions&&o.collisions(e,t.pairs.list,r),h.showVertexNumbers&&o.vertexNumbers(e,S,r),h.showMousePosition&&o.mousePosition(e,e.mouse,r),o.constraints(C,r),h.showBroadphase&&t.broadphase.controller===f&&o.grid(e,t.broadphase,r),h.showDebug&&o.debug(e,r),h.hasBounds&&o.endViewTransform(e),d.trigger(e,"afterRender",A)},o.debug=function(e,t){var n=t,o=e.engine,r=o.world,c=o.metrics,d=e.options;if(l.allBodies(r),o.timing.timestamp-(e.debugTimestamp||0)>=500){var text="";c.timing&&(text+="fps: "+Math.round(c.timing.fps)+"    "),e.debugString=text,e.debugTimestamp=o.timing.timestamp}if(e.debugString){n.font="12px Arial",d.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var f=e.debugString.split("\n"),i=0;i<f.length;i++)n.fillText(f[i],50,50+18*i)}},o.constraints=function(e,t){for(var n=t,i=0;i<e.length;i++){var o=e[i];if(o.render.visible&&o.pointA&&o.pointB){var l,c,d=o.bodyA,f=o.bodyB;if(l=d?m.add(d.position,o.pointA):o.pointA,"pin"===o.render.type)n.beginPath(),n.arc(l.x,l.y,3,0,2*Math.PI),n.closePath();else{if(c=f?m.add(f.position,o.pointB):o.pointB,n.beginPath(),n.moveTo(l.x,l.y),"spring"===o.render.type)for(var v,h=m.sub(c,l),y=m.perp(m.normalise(h)),x=Math.ceil(r.clamp(o.length/5,12,20)),w=1;w<x;w+=1)v=w%2==0?1:-1,n.lineTo(l.x+h.x*(w/x)+y.x*v*4,l.y+h.y*(w/x)+y.y*v*4);n.lineTo(c.x,c.y)}o.render.lineWidth&&(n.lineWidth=o.render.lineWidth,n.strokeStyle=o.render.strokeStyle,n.stroke()),o.render.anchors&&(n.fillStyle=o.render.strokeStyle,n.beginPath(),n.arc(l.x,l.y,3,0,2*Math.PI),n.arc(c.x,c.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},o.bodyShadows=function(e,t,n){for(var o=n,i=(e.engine,0);i<t.length;i++){var body=t[i];if(body.render.visible){if(body.circleRadius)o.beginPath(),o.arc(body.position.x,body.position.y,body.circleRadius,0,2*Math.PI),o.closePath();else{o.beginPath(),o.moveTo(body.vertices[0].x,body.vertices[0].y);for(var r=1;r<body.vertices.length;r++)o.lineTo(body.vertices[r].x,body.vertices[r].y);o.closePath()}var l=body.position.x-.5*e.options.width,c=body.position.y-.2*e.options.height,d=Math.abs(l)+Math.abs(c);o.shadowColor="rgba(0,0,0,0.15)",o.shadowOffsetX=.05*l,o.shadowOffsetY=.05*c,o.shadowBlur=1+12*Math.min(1,d/1e3),o.fill(),o.shadowColor=null,o.shadowOffsetX=null,o.shadowOffsetY=null,o.shadowBlur=null}}},o.bodies=function(e,t,n){var body,o,i,r,l=n,c=(e.engine,e.options),d=c.showInternalEdges||!c.wireframes;for(i=0;i<t.length;i++)if((body=t[i]).render.visible)for(r=body.parts.length>1?1:0;r<body.parts.length;r++)if((o=body.parts[r]).render.visible){if(c.showSleeping&&body.isSleeping?l.globalAlpha=.5*o.render.opacity:1!==o.render.opacity&&(l.globalAlpha=o.render.opacity),o.render.sprite&&o.render.sprite.texture&&!c.wireframes){var f=o.render.sprite,m=y(e,f.texture);l.translate(o.position.x,o.position.y),l.rotate(o.angle),l.drawImage(m,m.width*-f.xOffset*f.xScale,m.height*-f.yOffset*f.yScale,m.width*f.xScale,m.height*f.yScale),l.rotate(-o.angle),l.translate(-o.position.x,-o.position.y)}else{if(o.circleRadius)l.beginPath(),l.arc(o.position.x,o.position.y,o.circleRadius,0,2*Math.PI);else{l.beginPath(),l.moveTo(o.vertices[0].x,o.vertices[0].y);for(var v=1;v<o.vertices.length;v++)!o.vertices[v-1].isInternal||d?l.lineTo(o.vertices[v].x,o.vertices[v].y):l.moveTo(o.vertices[v].x,o.vertices[v].y),o.vertices[v].isInternal&&!d&&l.moveTo(o.vertices[(v+1)%o.vertices.length].x,o.vertices[(v+1)%o.vertices.length].y);l.lineTo(o.vertices[0].x,o.vertices[0].y),l.closePath()}c.wireframes?(l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()):(l.fillStyle=o.render.fillStyle,o.render.lineWidth&&(l.lineWidth=o.render.lineWidth,l.strokeStyle=o.render.strokeStyle,l.stroke()),l.fill())}l.globalAlpha=1}},o.bodyWireframes=function(e,t,n){var body,o,i,r,l,c=n,d=e.options.showInternalEdges;for(c.beginPath(),i=0;i<t.length;i++)if((body=t[i]).render.visible)for(l=body.parts.length>1?1:0;l<body.parts.length;l++){for(o=body.parts[l],c.moveTo(o.vertices[0].x,o.vertices[0].y),r=1;r<o.vertices.length;r++)!o.vertices[r-1].isInternal||d?c.lineTo(o.vertices[r].x,o.vertices[r].y):c.moveTo(o.vertices[r].x,o.vertices[r].y),o.vertices[r].isInternal&&!d&&c.moveTo(o.vertices[(r+1)%o.vertices.length].x,o.vertices[(r+1)%o.vertices.length].y);c.lineTo(o.vertices[0].x,o.vertices[0].y)}c.lineWidth=1,c.strokeStyle="#bbb",c.stroke()},o.bodyConvexHulls=function(e,t,n){var body,i,o,r=n;for(r.beginPath(),i=0;i<t.length;i++)if((body=t[i]).render.visible&&1!==body.parts.length){for(r.moveTo(body.vertices[0].x,body.vertices[0].y),o=1;o<body.vertices.length;o++)r.lineTo(body.vertices[o].x,body.vertices[o].y);r.lineTo(body.vertices[0].x,body.vertices[0].y)}r.lineWidth=1,r.strokeStyle="rgba(255,255,255,0.2)",r.stroke()},o.vertexNumbers=function(e,t,n){var i,o,r,l=n;for(i=0;i<t.length;i++){var c=t[i].parts;for(r=c.length>1?1:0;r<c.length;r++){var d=c[r];for(o=0;o<d.vertices.length;o++)l.fillStyle="rgba(255,255,255,0.2)",l.fillText(i+"_"+o,d.position.x+.8*(d.vertices[o].x-d.position.x),d.position.y+.8*(d.vertices[o].y-d.position.y))}}},o.mousePosition=function(e,t,n){var o=n;o.fillStyle="rgba(255,255,255,0.8)",o.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},o.bodyBounds=function(e,t,n){var o=n,r=(e.engine,e.options);o.beginPath();for(var i=0;i<t.length;i++)if(t[i].render.visible)for(var l=t[i].parts,c=l.length>1?1:0;c<l.length;c++){var d=l[c];o.rect(d.bounds.min.x,d.bounds.min.y,d.bounds.max.x-d.bounds.min.x,d.bounds.max.y-d.bounds.min.y)}r.wireframes?o.strokeStyle="rgba(255,255,255,0.08)":o.strokeStyle="rgba(0,0,0,0.1)",o.lineWidth=1,o.stroke()},o.bodyAxes=function(e,t,n){var o,i,r,l,c=n,d=(e.engine,e.options);for(c.beginPath(),i=0;i<t.length;i++){var body=t[i],f=body.parts;if(body.render.visible)if(d.showAxes)for(r=f.length>1?1:0;r<f.length;r++)for(o=f[r],l=0;l<o.axes.length;l++){var m=o.axes[l];c.moveTo(o.position.x,o.position.y),c.lineTo(o.position.x+20*m.x,o.position.y+20*m.y)}else for(r=f.length>1?1:0;r<f.length;r++)for(o=f[r],l=0;l<o.axes.length;l++)c.moveTo(o.position.x,o.position.y),c.lineTo((o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}d.wireframes?(c.strokeStyle="indianred",c.lineWidth=1):(c.strokeStyle="rgba(255, 255, 255, 0.4)",c.globalCompositeOperation="overlay",c.lineWidth=2),c.stroke(),c.globalCompositeOperation="source-over"},o.bodyPositions=function(e,t,n){var body,o,i,r,l=n,c=(e.engine,e.options);for(l.beginPath(),i=0;i<t.length;i++)if((body=t[i]).render.visible)for(r=0;r<body.parts.length;r++)o=body.parts[r],l.arc(o.position.x,o.position.y,3,0,2*Math.PI,!1),l.closePath();for(c.wireframes?l.fillStyle="indianred":l.fillStyle="rgba(0,0,0,0.5)",l.fill(),l.beginPath(),i=0;i<t.length;i++)(body=t[i]).render.visible&&(l.arc(body.positionPrev.x,body.positionPrev.y,2,0,2*Math.PI,!1),l.closePath());l.fillStyle="rgba(255,165,0,0.8)",l.fill()},o.bodyVelocity=function(e,t,n){var o=n;o.beginPath();for(var i=0;i<t.length;i++){var body=t[i];body.render.visible&&(o.moveTo(body.position.x,body.position.y),o.lineTo(body.position.x+2*(body.position.x-body.positionPrev.x),body.position.y+2*(body.position.y-body.positionPrev.y)))}o.lineWidth=3,o.strokeStyle="cornflowerblue",o.stroke()},o.bodyIds=function(e,t,n){var i,o,r=n;for(i=0;i<t.length;i++)if(t[i].render.visible){var l=t[i].parts;for(o=l.length>1?1:0;o<l.length;o++){var c=l[o];r.font="12px Arial",r.fillStyle="rgba(255,255,255,0.5)",r.fillText(c.id,c.position.x+10,c.position.y-10)}}},o.collisions=function(e,t,n){var o,r,i,l,c=n,d=e.options;for(c.beginPath(),i=0;i<t.length;i++)if((o=t[i]).isActive)for(r=o.collision,l=0;l<o.activeContacts.length;l++){var f=o.activeContacts[l].vertex;c.rect(f.x-1.5,f.y-1.5,3.5,3.5)}for(d.wireframes?c.fillStyle="rgba(255,255,255,0.7)":c.fillStyle="orange",c.fill(),c.beginPath(),i=0;i<t.length;i++)if((o=t[i]).isActive&&(r=o.collision,o.activeContacts.length>0)){var m=o.activeContacts[0].vertex.x,v=o.activeContacts[0].vertex.y;2===o.activeContacts.length&&(m=(o.activeContacts[0].vertex.x+o.activeContacts[1].vertex.x)/2,v=(o.activeContacts[0].vertex.y+o.activeContacts[1].vertex.y)/2),r.bodyB===r.supports[0].body||!0===r.bodyA.isStatic?c.moveTo(m-8*r.normal.x,v-8*r.normal.y):c.moveTo(m+8*r.normal.x,v+8*r.normal.y),c.lineTo(m,v)}d.wireframes?c.strokeStyle="rgba(255,165,0,0.7)":c.strokeStyle="orange",c.lineWidth=1,c.stroke()},o.separations=function(e,t,n){var o,r,l,c,i,d=n,f=e.options;for(d.beginPath(),i=0;i<t.length;i++)if((o=t[i]).isActive){l=(r=o.collision).bodyA;var m=1;(c=r.bodyB).isStatic||l.isStatic||(m=.5),c.isStatic&&(m=0),d.moveTo(c.position.x,c.position.y),d.lineTo(c.position.x-r.penetration.x*m,c.position.y-r.penetration.y*m),m=1,c.isStatic||l.isStatic||(m=.5),l.isStatic&&(m=0),d.moveTo(l.position.x,l.position.y),d.lineTo(l.position.x+r.penetration.x*m,l.position.y+r.penetration.y*m)}f.wireframes?d.strokeStyle="rgba(255,165,0,0.5)":d.strokeStyle="orange",d.stroke()},o.grid=function(e,t,n){var o=n;e.options.wireframes?o.strokeStyle="rgba(255,180,0,0.1)":o.strokeStyle="rgba(255,180,0,0.5)",o.beginPath();for(var l=r.keys(t.buckets),i=0;i<l.length;i++){var c=l[i];if(!(t.buckets[c].length<2)){var d=c.split(/C|R/);o.rect(.5+parseInt(d[1],10)*t.bucketWidth,.5+parseInt(d[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}o.lineWidth=1,o.stroke()},o.inspector=function(e,t){e.engine;var n,o=e.selected,r=e.render,l=r.options;if(l.hasBounds){var c=r.bounds.max.x-r.bounds.min.x,d=r.bounds.max.y-r.bounds.min.y,f=c/r.options.width,m=d/r.options.height;t.scale(1/f,1/m),t.translate(-r.bounds.min.x,-r.bounds.min.y)}for(var i=0;i<o.length;i++){var v=o[i].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),v.type){case"body":n=v.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var h=v.pointA;v.bodyA&&(h=v.pointB),t.beginPath(),t.arc(h.x,h.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),l.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var canvas=document.createElement("canvas");return canvas.width=e,canvas.height=t,canvas.oncontextmenu=function(){return!1},canvas.onselectstart=function(){return!1},canvas},h=function(canvas){var e=canvas.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},y=function(e,t){var image=e.textures[t];return image||((image=e.textures[t]=new Image).src=t,image)},x=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var o={};t.exports=o;var r=e("../geometry/Bounds"),l=e("../body/Composite"),c=e("../core/Common"),d=e("../core/Events"),f=e("../geometry/Vector");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(c.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){c.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:o,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=c.extend(t,e),r=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:r,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},d.on(n.engine,"beforeUpdate",(function(){o.clear(n)})),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),c.isElement(n.element)?n.element.appendChild(n.canvas):c.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},o.run=function(t){!function n(time){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var o=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=o,o&&t.addChildAt(o,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},o.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),o=e.sprites["bg-0"];if(n){var r=c.colorToNumber(t);e.renderer.backgroundColor=r,o&&e.container.removeChild(o)}else if(!o){var l=v(e,t);(o=e.sprites["bg-0"]=new PIXI.Sprite(l)).position.x=0,o.position.y=0,e.container.addChildAt(o,0)}e.currentBackground=t}},o.world=function(e){var i,t=e.engine.world,n=e.renderer,c=e.container,d=e.options,m=l.allBodies(t),v=l.allConstraints(t),h=[];d.wireframes?o.setBackground(e,d.wireframeBackground):o.setBackground(e,d.background);var y=e.bounds.max.x-e.bounds.min.x,x=e.bounds.max.y-e.bounds.min.y,w=y/e.options.width,_=x/e.options.height;if(d.hasBounds){for(i=0;i<m.length;i++){var body=m[i];body.render.sprite.visible=r.overlaps(body.bounds,e.bounds)}for(i=0;i<v.length;i++){var S=v[i],C=S.bodyA,A=S.bodyB,M=S.pointA,k=S.pointB;C&&(M=f.add(C.position,S.pointA)),A&&(k=f.add(A.position,S.pointB)),M&&k&&(r.contains(e.bounds,M)||r.contains(e.bounds,k))&&h.push(S)}c.scale.set(1/w,1/_),c.position.set(-e.bounds.min.x*(1/w),-e.bounds.min.y*(1/_))}else h=v;for(i=0;i<m.length;i++)o.body(e,m[i]);for(i=0;i<h.length;i++)o.constraint(e,h[i]);n.render(c)},o.constraint=function(e,t){e.engine;var n=t.bodyA,o=t.bodyB,r=t.pointA,l=t.pointB,d=e.container,f=t.render,m="c-"+t.id,v=e.primitives[m];v||(v=e.primitives[m]=new PIXI.Graphics),f.visible&&t.pointA&&t.pointB?(-1===c.indexOf(d.children,v)&&d.addChild(v),v.clear(),v.beginFill(0,0),v.lineStyle(f.lineWidth,c.colorToNumber(f.strokeStyle),1),n?v.moveTo(n.position.x+r.x,n.position.y+r.y):v.moveTo(r.x,r.y),o?v.lineTo(o.position.x+l.x,o.position.y+l.y):v.lineTo(l.x,l.y),v.endFill()):v.clear()},o.body=function(e,body){e.engine;var t=body.render;if(t.visible)if(t.sprite&&t.sprite.texture){var o="b-"+body.id,r=e.sprites[o],l=e.spriteContainer;r||(r=e.sprites[o]=n(e,body)),-1===c.indexOf(l.children,r)&&l.addChild(r),r.position.x=body.position.x,r.position.y=body.position.y,r.rotation=body.angle,r.scale.x=t.sprite.xScale||1,r.scale.y=t.sprite.yScale||1}else{var d="b-"+body.id,f=e.primitives[d],v=e.container;f||((f=e.primitives[d]=m(e,body)).initialAngle=body.angle),-1===c.indexOf(v.children,f)&&v.addChild(f),f.position.x=body.position.x,f.position.y=body.position.y,f.rotation=body.angle-f.initialAngle}};var n=function(e,body){var t=body.render.sprite.texture,n=v(e,t),o=new PIXI.Sprite(n);return o.anchor.x=body.render.sprite.xOffset,o.anchor.y=body.render.sprite.yOffset,o},m=function(e,body){var t,n=body.render,o=e.options,r=new PIXI.Graphics,l=c.colorToNumber(n.fillStyle),d=c.colorToNumber(n.strokeStyle),f=c.colorToNumber(n.strokeStyle),m=c.colorToNumber("#bbb"),v=c.colorToNumber("#CD5C5C");r.clear();for(var h=body.parts.length>1?1:0;h<body.parts.length;h++){t=body.parts[h],o.wireframes?(r.beginFill(0,0),r.lineStyle(1,m,1)):(r.beginFill(l,1),r.lineStyle(n.lineWidth,d,1)),r.moveTo(t.vertices[0].x-body.position.x,t.vertices[0].y-body.position.y);for(var y=1;y<t.vertices.length;y++)r.lineTo(t.vertices[y].x-body.position.x,t.vertices[y].y-body.position.y);r.lineTo(t.vertices[0].x-body.position.x,t.vertices[0].y-body.position.y),r.endFill(),(o.showAngleIndicator||o.showAxes)&&(r.beginFill(0,0),o.wireframes?r.lineStyle(1,v,1):r.lineStyle(1,f),r.moveTo(t.position.x-body.position.x,t.position.y-body.position.y),r.lineTo((t.vertices[0].x+t.vertices[t.vertices.length-1].x)/2-body.position.x,(t.vertices[0].y+t.vertices[t.vertices.length-1].y)/2-body.position.y),r.endFill())}return r},v=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)}).call(this,n(24))},74:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var content=function(e,t){var content=e[1]||"",n=e[3];if(!n)return content;if(t&&"function"==typeof btoa){var o=(l=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(data," */")),r=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(r).concat([o]).join("\n")}var l,c,data;return[content].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(content,"}"):content})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},76:function(e,t,n){"use strict";function o(e,t){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],l=r[0],c={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[l]?o[l].parts.push(c):n.push(o[l]={id:l,parts:[c]})}return n}n.r(t),n.d(t,"default",(function(){return y}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=r&&(document.head||document.getElementsByTagName("head")[0]),c=null,d=0,f=!1,m=function(){},v=null,h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function y(e,t,n,r){f=n,v=r||{};var c=o(e,t);return x(c),function(t){for(var n=[],i=0;i<c.length;i++){var r=c[i];(d=l[r.id]).refs--,n.push(d)}t?x(c=o(e,t)):c=[];for(i=0;i<n.length;i++){var d;if(0===(d=n[i]).refs){for(var f=0;f<d.parts.length;f++)d.parts[f]();delete l[d.id]}}}}function x(e){for(var i=0;i<e.length;i++){var t=e[i],n=l[t.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](t.parts[o]);for(;o<t.parts.length;o++)n.parts.push(_(t.parts[o]));n.parts.length>t.parts.length&&(n.parts.length=t.parts.length)}else{var r=[];for(o=0;o<t.parts.length;o++)r.push(_(t.parts[o]));l[t.id]={id:t.id,refs:1,parts:r}}}}function w(){var e=document.createElement("style");return e.type="text/css",head.appendChild(e),e}function _(e){var t,n,o=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(o){if(f)return m;o.parentNode.removeChild(o)}if(h){var r=d++;o=c||(c=w()),t=A.bind(null,o,r,!1),n=A.bind(null,o,r,!0)}else o=w(),t=M.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}var S,C=(S=[],function(e,t){return S[e]=t,S.filter(Boolean).join("\n")});function A(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=C(t,r);else{var l=document.createTextNode(r),c=e.childNodes;c[t]&&e.removeChild(c[t]),c.length?e.insertBefore(l,c[t]):e.appendChild(l)}}function M(e,t){var n=t.css,o=t.media,r=t.sourceMap;if(o&&e.setAttribute("media",o),v.ssrId&&e.setAttribute("data-vue-ssr-id",t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},79:function(e,t,n){"use strict";var o={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(e,t){var n=t.parent,o=t.slots,r=t.props,l=o(),c=l.default;void 0===c&&(c=[]);var d=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),r.placeholderTag&&(r.placeholder||d)?e(r.placeholderTag,{class:["client-only-placeholder"]},r.placeholder||d):c.length>0?c.map((function(){return e(!1)})):e(!1))}};e.exports=o},80:function(e,t,n){"use strict";var o=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher","unit"];function r(e,t){"undefined"!=typeof console&&(console.warn("[vue-i18n] "+e),t&&console.warn(t.stack))}var l=Array.isArray;function c(e){return null!==e&&"object"==typeof e}function d(e){return"string"==typeof e}var f=Object.prototype.toString;function m(e){return"[object Object]"===f.call(e)}function v(e){return null==e}function h(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=null,o=null;return 1===e.length?c(e[0])||Array.isArray(e[0])?o=e[0]:"string"==typeof e[0]&&(n=e[0]):2===e.length&&("string"==typeof e[0]&&(n=e[0]),(c(e[1])||Array.isArray(e[1]))&&(o=e[1])),{locale:n,params:o}}function y(e){return JSON.parse(JSON.stringify(e))}function x(e,t){return!!~e.indexOf(t)}var w=Object.prototype.hasOwnProperty;function _(e,t){return w.call(e,t)}function S(e){for(var t=arguments,output=Object(e),i=1;i<arguments.length;i++){var source=t[i];if(null!=source){var n=void 0;for(n in source)_(source,n)&&(c(source[n])?output[n]=S(output[n],source[n]):output[n]=source[n])}}return output}function C(a,b){if(a===b)return!0;var e=c(a),t=c(b);if(!e||!t)return!e&&!t&&String(a)===String(b);try{var n=Array.isArray(a),o=Array.isArray(b);if(n&&o)return a.length===b.length&&a.every((function(e,i){return C(e,b[i])}));if(n||o)return!1;var r=Object.keys(a),l=Object.keys(b);return r.length===l.length&&r.every((function(e){return C(a[e],b[e])}))}catch(e){return!1}}var A={beforeCreate:function(){var e=this.$options;if(e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n)if(e.i18n instanceof te){if(e.__i18n)try{var t={};e.__i18n.forEach((function(e){t=S(t,JSON.parse(e))})),Object.keys(t).forEach((function(n){e.i18n.mergeLocaleMessage(n,t[n])}))}catch(e){0}this._i18n=e.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(m(e.i18n)){var n=this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof te?this.$root.$i18n:null;if(n&&(e.i18n.root=this.$root,e.i18n.formatter=n.formatter,e.i18n.fallbackLocale=n.fallbackLocale,e.i18n.formatFallbackMessages=n.formatFallbackMessages,e.i18n.silentTranslationWarn=n.silentTranslationWarn,e.i18n.silentFallbackWarn=n.silentFallbackWarn,e.i18n.pluralizationRules=n.pluralizationRules,e.i18n.preserveDirectiveContent=n.preserveDirectiveContent),e.__i18n)try{var o={};e.__i18n.forEach((function(e){o=S(o,JSON.parse(e))})),e.i18n.messages=o}catch(e){0}var r=e.i18n.sharedMessages;r&&m(r)&&(e.i18n.messages=S(e.i18n.messages,r)),this._i18n=new te(e.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===e.i18n.sync||e.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale()),n&&n.onComponentInstanceCreated(this._i18n)}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof te?this._i18n=this.$root.$i18n:e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof te&&(this._i18n=e.parent.$i18n)},beforeMount:function(){var e=this.$options;e.i18n=e.i18n||(e.__i18n?{}:null),e.i18n?(e.i18n instanceof te||m(e.i18n))&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof te||e.parent&&e.parent.$i18n&&e.parent.$i18n instanceof te)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var e=this;this.$nextTick((function(){e._subscribing&&(e._i18n.unsubscribeDataChanging(e),delete e._subscribing),e._i18nWatcher&&(e._i18nWatcher(),e._i18n.destroyVM(),delete e._i18nWatcher),e._localeWatcher&&(e._localeWatcher(),delete e._localeWatcher)}))}}},M={name:"i18n",functional:!0,props:{tag:{type:[String,Boolean],default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(e,t){var data=t.data,n=t.parent,o=t.props,r=t.slots,l=n.$i18n;if(l){var path=o.path,c=o.locale,d=o.places,f=r(),m=l.i(path,c,function(e){var t;for(t in e)if("default"!==t)return!1;return Boolean(t)}(f)||d?function(e,t){var n=t?function(e){0;return Array.isArray(e)?e.reduce(P,{}):Object.assign({},e)}(t):{};if(!e)return n;var o=(e=e.filter((function(e){return e.tag||""!==e.text.trim()}))).every(B);0;return e.reduce(o?k:P,n)}(f.default,d):f),v=o.tag&&!0!==o.tag||!1===o.tag?o.tag:"span";return v?e(v,data,m):m}}};function k(e,t){return t.data&&t.data.attrs&&t.data.attrs.place&&(e[t.data.attrs.place]=t),e}function P(e,t,n){return e[n]=t,e}function B(e){return Boolean(e.data&&e.data.attrs&&e.data.attrs.place)}var I,T={name:"i18n-n",functional:!0,props:{tag:{type:[String,Boolean],default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(e,t){var n=t.props,r=t.parent,data=t.data,l=r.$i18n;if(!l)return null;var f=null,m=null;d(n.format)?f=n.format:c(n.format)&&(n.format.key&&(f=n.format.key),m=Object.keys(n.format).reduce((function(e,t){var r;return x(o,t)?Object.assign({},e,((r={})[t]=n.format[t],r)):e}),null));var v=n.locale||l.locale,h=l._ntp(n.value,v,f,m),y=h.map((function(e,t){var n,slot=data.scopedSlots&&data.scopedSlots[e.type];return slot?slot(((n={})[e.type]=e.value,n.index=t,n.parts=h,n)):e.value})),w=n.tag&&!0!==n.tag||!1===n.tag?n.tag:"span";return w?e(w,{attrs:data.attrs,class:data.class,staticClass:data.staticClass},y):y}};function F(e,t,n){O(e,n)&&V(e,t,n)}function R(e,t,n,o){if(O(e,n)){var r=n.context.$i18n;(function(e,t){var n=t.context;return e._locale===n.$i18n.locale})(e,n)&&C(t.value,t.oldValue)&&C(e._localeMessage,r.getLocaleMessage(r.locale))||V(e,t,n)}}function L(e,t,n,o){if(n.context){var l=n.context.$i18n||{};t.modifiers.preserve||l.preserveDirectiveContent||(e.textContent=""),e._vt=void 0,delete e._vt,e._locale=void 0,delete e._locale,e._localeMessage=void 0,delete e._localeMessage}else r("Vue instance does not exists in VNode context")}function O(e,t){var n=t.context;return n?!!n.$i18n||(r("VueI18n instance does not exists in Vue instance"),!1):(r("Vue instance does not exists in VNode context"),!1)}function V(e,t,n){var o,l,c=function(e){var path,t,n,o;d(e)?path=e:m(e)&&(path=e.path,t=e.locale,n=e.args,o=e.choice);return{path:path,locale:t,args:n,choice:o}}(t.value),path=c.path,f=c.locale,v=c.args,h=c.choice;if(path||f||v)if(path){var y=n.context;e._vt=e.textContent=null!=h?(o=y.$i18n).tc.apply(o,[path,h].concat(E(f,v))):(l=y.$i18n).t.apply(l,[path].concat(E(f,v))),e._locale=y.$i18n.locale,e._localeMessage=y.$i18n.getLocaleMessage(y.$i18n.locale)}else r("`path` is required in v-t directive");else r("value type not supported")}function E(e,t){var n=[];return e&&n.push(e),t&&(Array.isArray(t)||m(t))&&n.push(t),n}function W(e){W.installed=!0;(I=e).version&&Number(I.version.split(".")[0]);(function(e){e.prototype.hasOwnProperty("$i18n")||Object.defineProperty(e.prototype,"$i18n",{get:function(){return this._i18n}}),e.prototype.$t=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var o=this.$i18n;return o._t.apply(o,[e,o.locale,o._getMessages(),this].concat(t))},e.prototype.$tc=function(e,t){for(var n=[],o=arguments.length-2;o-- >0;)n[o]=arguments[o+2];var r=this.$i18n;return r._tc.apply(r,[e,r.locale,r._getMessages(),this,t].concat(n))},e.prototype.$te=function(e,t){var n=this.$i18n;return n._te(e,n.locale,n._getMessages(),t)},e.prototype.$d=function(e){for(var t,n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];return(t=this.$i18n).d.apply(t,[e].concat(n))},e.prototype.$n=function(e){for(var t,n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];return(t=this.$i18n).n.apply(t,[e].concat(n))}})(I),I.mixin(A),I.directive("t",{bind:F,update:R,unbind:L}),I.component(M.name,M),I.component(T.name,T),I.config.optionMergeStrategies.i18n=function(e,t){return void 0===t?e:t}}var D=function(){this._caches=Object.create(null)};D.prototype.interpolate=function(e,t){if(!t)return[e];var n=this._caches[e];return n||(n=function(e){var t=[],n=0,text="";for(;n<e.length;){var o=e[n++];if("{"===o){text&&t.push({type:"text",value:text}),text="";var sub="";for(o=e[n++];void 0!==o&&"}"!==o;)sub+=o,o=e[n++];var r="}"===o,l=$.test(sub)?"list":r&&j.test(sub)?"named":"unknown";t.push({value:sub,type:l})}else"%"===o?"{"!==e[n]&&(text+=o):text+=o}return text&&t.push({type:"text",value:text}),t}(e),this._caches[e]=n),function(e,t){var n=[],o=0,r=Array.isArray(t)?"list":c(t)?"named":"unknown";if("unknown"===r)return n;for(;o<e.length;){var l=e[o];switch(l.type){case"text":n.push(l.value);break;case"list":n.push(t[parseInt(l.value,10)]);break;case"named":"named"===r&&n.push(t[l.value]);break;case"unknown":0}o++}return n}(n,t)};var $=/^(?:\d)+/,j=/^(?:\w)+/;var N=[];N[0]={ws:[0],ident:[3,0],"[":[4],eof:[7]},N[1]={ws:[1],".":[2],"[":[4],eof:[7]},N[2]={ws:[2],ident:[3,0],0:[3,0],number:[3,0]},N[3]={ident:[3,0],0:[3,0],number:[3,0],ws:[1,1],".":[2,1],"[":[4,1],eof:[7,1]},N[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],eof:8,else:[4,0]},N[5]={"'":[4,0],eof:8,else:[5,0]},N[6]={'"':[4,0],eof:8,else:[6,0]};var H=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function U(e){if(null==e)return"eof";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function G(path){var e,a,t,n=path.trim();return("0"!==path.charAt(0)||!isNaN(path))&&(t=n,H.test(t)?(a=(e=n).charCodeAt(0))!==e.charCodeAt(e.length-1)||34!==a&&39!==a?e:e.slice(1,-1):"*"+n)}var z=function(){this._cache=Object.create(null)};z.prototype.parsePath=function(path){var e=this._cache[path];return e||(e=function(path){var e,t,n,o,r,l,c,d=[],f=-1,m=0,v=0,h=[];function y(){var e=path[f+1];if(5===m&&"'"===e||6===m&&'"'===e)return f++,n="\\"+e,h[0](),!0}for(h[1]=function(){void 0!==t&&(d.push(t),t=void 0)},h[0]=function(){void 0===t?t=n:t+=n},h[2]=function(){h[0](),v++},h[3]=function(){if(v>0)v--,m=4,h[0]();else{if(v=0,void 0===t)return!1;if(!1===(t=G(t)))return!1;h[1]()}};null!==m;)if(f++,"\\"!==(e=path[f])||!y()){if(o=U(e),8===(r=(c=N[m])[o]||c.else||8))return;if(m=r[0],(l=h[r[1]])&&(n=void 0===(n=r[2])?e:n,!1===l()))return;if(7===m)return d}}(path))&&(this._cache[path]=e),e||[]},z.prototype.getPathValue=function(e,path){if(!c(e))return null;var t=this.parsePath(path);if(0===t.length)return null;for(var n=t.length,o=e,i=0;i<n;){var r=o[t[i]];if(void 0===r)return null;o=r,i++}return o};var X,J=/<\/?[\w\s="/.':;#-\/]+>/,Q=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,Y=/^@(?:\.([a-z]+))?:/,Z=/[()]/g,K={upper:function(e){return e.toLocaleUpperCase()},lower:function(e){return e.toLocaleLowerCase()},capitalize:function(e){return""+e.charAt(0).toLocaleUpperCase()+e.substr(1)}},ee=new D,te=function(e){var t=this;void 0===e&&(e={}),!I&&"undefined"!=typeof window&&window.Vue&&W(window.Vue);var n=e.locale||"en-US",o=!1!==e.fallbackLocale&&(e.fallbackLocale||"en-US"),r=e.messages||{},l=e.dateTimeFormats||{},c=e.numberFormats||{};this._vm=null,this._formatter=e.formatter||ee,this._modifiers=e.modifiers||{},this._missing=e.missing||null,this._root=e.root||null,this._sync=void 0===e.sync||!!e.sync,this._fallbackRoot=void 0===e.fallbackRoot||!!e.fallbackRoot,this._formatFallbackMessages=void 0!==e.formatFallbackMessages&&!!e.formatFallbackMessages,this._silentTranslationWarn=void 0!==e.silentTranslationWarn&&e.silentTranslationWarn,this._silentFallbackWarn=void 0!==e.silentFallbackWarn&&!!e.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new z,this._dataListeners=[],this._componentInstanceCreatedListener=e.componentInstanceCreatedListener||null,this._preserveDirectiveContent=void 0!==e.preserveDirectiveContent&&!!e.preserveDirectiveContent,this.pluralizationRules=e.pluralizationRules||{},this._warnHtmlInMessage=e.warnHtmlInMessage||"off",this._postTranslation=e.postTranslation||null,this.getChoiceIndex=function(e,n){var o=Object.getPrototypeOf(t);if(o&&o.getChoiceIndex)return o.getChoiceIndex.call(t,e,n);var r,l;return t.locale in t.pluralizationRules?t.pluralizationRules[t.locale].apply(t,[e,n]):(r=e,l=n,r=Math.abs(r),2===l?r?r>1?1:0:1:r?Math.min(r,2):0)},this._exist=function(e,n){return!(!e||!n)&&(!v(t._path.getPathValue(e,n))||!!e[n])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(r).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,r[e])})),this._initVM({locale:n,fallbackLocale:o,messages:r,dateTimeFormats:l,numberFormats:c})},ne={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0},postTranslation:{configurable:!0}};te.prototype._checkLocaleMessage=function(e,t,n){var o=function(e,t,n,l){if(m(n))Object.keys(n).forEach((function(r){var c=n[r];m(c)?(l.push(r),l.push("."),o(e,t,c,l),l.pop(),l.pop()):(l.push(r),o(e,t,c,l),l.pop())}));else if(Array.isArray(n))n.forEach((function(n,r){m(n)?(l.push("["+r+"]"),l.push("."),o(e,t,n,l),l.pop(),l.pop()):(l.push("["+r+"]"),o(e,t,n,l),l.pop())}));else if(d(n)){if(J.test(n)){var c="Detected HTML in message '"+n+"' of keypath '"+l.join("")+"' at '"+t+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===e?r(c):"error"===e&&function(e,t){"undefined"!=typeof console&&(console.error("[vue-i18n] "+e),t&&console.error(t.stack))}(c)}}};o(t,e,n,[])},te.prototype._initVM=function(data){var e=I.config.silent;I.config.silent=!0,this._vm=new I({data:data}),I.config.silent=e},te.prototype.destroyVM=function(){this._vm.$destroy()},te.prototype.subscribeDataChanging=function(e){this._dataListeners.push(e)},te.prototype.unsubscribeDataChanging=function(e){!function(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)e.splice(n,1)}}(this._dataListeners,e)},te.prototype.watchI18nData=function(){var e=this;return this._vm.$watch("$data",(function(){for(var i=e._dataListeners.length;i--;)I.nextTick((function(){e._dataListeners[i]&&e._dataListeners[i].$forceUpdate()}))}),{deep:!0})},te.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var e=this._vm;return this._root.$i18n.vm.$watch("locale",(function(t){e.$set(e,"locale",t),e.$forceUpdate()}),{immediate:!0})},te.prototype.onComponentInstanceCreated=function(e){this._componentInstanceCreatedListener&&this._componentInstanceCreatedListener(e,this)},ne.vm.get=function(){return this._vm},ne.messages.get=function(){return y(this._getMessages())},ne.dateTimeFormats.get=function(){return y(this._getDateTimeFormats())},ne.numberFormats.get=function(){return y(this._getNumberFormats())},ne.availableLocales.get=function(){return Object.keys(this.messages).sort()},ne.locale.get=function(){return this._vm.locale},ne.locale.set=function(e){this._vm.$set(this._vm,"locale",e)},ne.fallbackLocale.get=function(){return this._vm.fallbackLocale},ne.fallbackLocale.set=function(e){this._localeChainCache={},this._vm.$set(this._vm,"fallbackLocale",e)},ne.formatFallbackMessages.get=function(){return this._formatFallbackMessages},ne.formatFallbackMessages.set=function(e){this._formatFallbackMessages=e},ne.missing.get=function(){return this._missing},ne.missing.set=function(e){this._missing=e},ne.formatter.get=function(){return this._formatter},ne.formatter.set=function(e){this._formatter=e},ne.silentTranslationWarn.get=function(){return this._silentTranslationWarn},ne.silentTranslationWarn.set=function(e){this._silentTranslationWarn=e},ne.silentFallbackWarn.get=function(){return this._silentFallbackWarn},ne.silentFallbackWarn.set=function(e){this._silentFallbackWarn=e},ne.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},ne.preserveDirectiveContent.set=function(e){this._preserveDirectiveContent=e},ne.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},ne.warnHtmlInMessage.set=function(e){var t=this,n=this._warnHtmlInMessage;if(this._warnHtmlInMessage=e,n!==e&&("warn"===e||"error"===e)){var o=this._getMessages();Object.keys(o).forEach((function(e){t._checkLocaleMessage(e,t._warnHtmlInMessage,o[e])}))}},ne.postTranslation.get=function(){return this._postTranslation},ne.postTranslation.set=function(e){this._postTranslation=e},te.prototype._getMessages=function(){return this._vm.messages},te.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},te.prototype._getNumberFormats=function(){return this._vm.numberFormats},te.prototype._warnDefault=function(e,t,n,o,r,l){if(!v(n))return n;if(this._missing){var c=this._missing.apply(null,[e,t,o,r]);if(d(c))return c}else 0;if(this._formatFallbackMessages){var f=h.apply(void 0,r);return this._render(t,l,f.params,t)}return t},te.prototype._isFallbackRoot=function(e){return!e&&!v(this._root)&&this._fallbackRoot},te.prototype._isSilentFallbackWarn=function(e){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(e):this._silentFallbackWarn},te.prototype._isSilentFallback=function(e,t){return this._isSilentFallbackWarn(t)&&(this._isFallbackRoot()||e!==this.fallbackLocale)},te.prototype._isSilentTranslationWarn=function(e){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(e):this._silentTranslationWarn},te.prototype._interpolate=function(e,t,n,o,r,l,c){if(!t)return null;var f,h=this._path.getPathValue(t,n);if(Array.isArray(h)||m(h))return h;if(v(h)){if(!m(t))return null;if(!d(f=t[n]))return null}else{if(!d(h))return null;f=h}return(f.indexOf("@:")>=0||f.indexOf("@.")>=0)&&(f=this._link(e,t,f,o,"raw",l,c)),this._render(f,r,l,n)},te.prototype._link=function(e,t,n,o,r,l,c){var d=n,f=d.match(Q);for(var m in f)if(f.hasOwnProperty(m)){var link=f[m],v=link.match(Y),h=v[0],y=v[1],w=link.replace(h,"").replace(Z,"");if(x(c,w))return d;c.push(w);var _=this._interpolate(e,t,w,o,"raw"===r?"string":r,"raw"===r?void 0:l,c);if(this._isFallbackRoot(_)){if(!this._root)throw Error("unexpected error");var S=this._root.$i18n;_=S._translate(S._getMessages(),S.locale,S.fallbackLocale,w,o,r,l)}_=this._warnDefault(e,w,_,o,Array.isArray(l)?l:[l],r),this._modifiers.hasOwnProperty(y)?_=this._modifiers[y](_):K.hasOwnProperty(y)&&(_=K[y](_)),c.pop(),d=_?d.replace(link,_):d}return d},te.prototype._render=function(e,t,n,path){var o=this._formatter.interpolate(e,n,path);return o||(o=ee.interpolate(e,n,path)),"string"!==t||d(o)?o:o.join("")},te.prototype._appendItemToChain=function(e,t,n){var o=!1;return x(e,t)||(o=!0,t&&(o="!"!==t[t.length-1],t=t.replace(/!/g,""),e.push(t),n&&n[t]&&(o=n[t]))),o},te.prototype._appendLocaleToChain=function(e,t,n){var o,r=t.split("-");do{var l=r.join("-");o=this._appendItemToChain(e,l,n),r.splice(-1,1)}while(r.length&&!0===o);return o},te.prototype._appendBlockToChain=function(e,t,n){for(var o=!0,i=0;i<t.length&&"boolean"==typeof o;i++){var r=t[i];d(r)&&(o=this._appendLocaleToChain(e,r,n))}return o},te.prototype._getLocaleChain=function(e,t){if(""===e)return[];this._localeChainCache||(this._localeChainCache={});var n=this._localeChainCache[e];if(!n){t||(t=this.fallbackLocale),n=[];for(var o,r=[e];l(r);)r=this._appendBlockToChain(n,r,t);(r=d(o=l(t)?t:c(t)?t.default?t.default:null:t)?[o]:o)&&this._appendBlockToChain(n,r,null),this._localeChainCache[e]=n}return n},te.prototype._translate=function(e,t,n,o,r,l,c){for(var d,f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var m=f[i];if(!v(d=this._interpolate(m,e[m],o,r,l,c,[o])))return d}return null},te.prototype._t=function(e,t,n,o){for(var r,l=[],c=arguments.length-4;c-- >0;)l[c]=arguments[c+4];if(!e)return"";var d=h.apply(void 0,l),f=d.locale||t,m=this._translate(n,f,this.fallbackLocale,e,o,"string",d.params);if(this._isFallbackRoot(m)){if(!this._root)throw Error("unexpected error");return(r=this._root).$t.apply(r,[e].concat(l))}return m=this._warnDefault(f,e,m,o,l,"string"),this._postTranslation&&null!=m&&(m=this._postTranslation(m,e)),m},te.prototype.t=function(e){for(var t,n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];return(t=this)._t.apply(t,[e,this.locale,this._getMessages(),null].concat(n))},te.prototype._i=function(e,t,n,o,r){var l=this._translate(n,t,this.fallbackLocale,e,o,"raw",r);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(e,t,r)}return this._warnDefault(t,e,l,o,[r],"raw")},te.prototype.i=function(e,t,n){return e?(d(t)||(t=this.locale),this._i(e,t,this._getMessages(),null,n)):""},te.prototype._tc=function(e,t,n,o,r){for(var l,c=[],d=arguments.length-5;d-- >0;)c[d]=arguments[d+5];if(!e)return"";void 0===r&&(r=1);var f={count:r,n:r},m=h.apply(void 0,c);return m.params=Object.assign(f,m.params),c=null===m.locale?[m.params]:[m.locale,m.params],this.fetchChoice((l=this)._t.apply(l,[e,t,n,o].concat(c)),r)},te.prototype.fetchChoice=function(e,t){if(!e&&!d(e))return null;var n=e.split("|");return n[t=this.getChoiceIndex(t,n.length)]?n[t].trim():e},te.prototype.tc=function(e,t){for(var n,o=[],r=arguments.length-2;r-- >0;)o[r]=arguments[r+2];return(n=this)._tc.apply(n,[e,this.locale,this._getMessages(),null,t].concat(o))},te.prototype._te=function(e,t,n){for(var o=[],r=arguments.length-3;r-- >0;)o[r]=arguments[r+3];var l=h.apply(void 0,o).locale||t;return this._exist(n[l],e)},te.prototype.te=function(e,t){return this._te(e,this.locale,this._getMessages(),t)},te.prototype.getLocaleMessage=function(e){return y(this._vm.messages[e]||{})},te.prototype.setLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,t)},te.prototype.mergeLocaleMessage=function(e,t){"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||this._checkLocaleMessage(e,this._warnHtmlInMessage,t),this._vm.$set(this._vm.messages,e,S({},this._vm.messages[e]||{},t))},te.prototype.getDateTimeFormat=function(e){return y(this._vm.dateTimeFormats[e]||{})},te.prototype.setDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,t),this._clearDateTimeFormat(e,t)},te.prototype.mergeDateTimeFormat=function(e,t){this._vm.$set(this._vm.dateTimeFormats,e,S(this._vm.dateTimeFormats[e]||{},t)),this._clearDateTimeFormat(e,t)},te.prototype._clearDateTimeFormat=function(e,t){for(var n in t){var o=e+"__"+n;this._dateTimeFormatters.hasOwnProperty(o)&&delete this._dateTimeFormatters[o]}},te.prototype._localizeDateTime=function(e,t,n,o,r){for(var l=t,c=o[l],d=this._getLocaleChain(t,n),i=0;i<d.length;i++){var f=d[i];if(l=f,!v(c=o[f])&&!v(c[r]))break}if(v(c)||v(c[r]))return null;var m=c[r],h=l+"__"+r,y=this._dateTimeFormatters[h];return y||(y=this._dateTimeFormatters[h]=new Intl.DateTimeFormat(l,m)),y.format(e)},te.prototype._d=function(e,t,n){if(!n)return new Intl.DateTimeFormat(t).format(e);var o=this._localizeDateTime(e,t,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(e,n,t)}return o||""},te.prototype.d=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var o=this.locale,r=null;return 1===t.length?d(t[0])?r=t[0]:c(t[0])&&(t[0].locale&&(o=t[0].locale),t[0].key&&(r=t[0].key)):2===t.length&&(d(t[0])&&(r=t[0]),d(t[1])&&(o=t[1])),this._d(e,o,r)},te.prototype.getNumberFormat=function(e){return y(this._vm.numberFormats[e]||{})},te.prototype.setNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,t),this._clearNumberFormat(e,t)},te.prototype.mergeNumberFormat=function(e,t){this._vm.$set(this._vm.numberFormats,e,S(this._vm.numberFormats[e]||{},t)),this._clearNumberFormat(e,t)},te.prototype._clearNumberFormat=function(e,t){for(var n in t){var o=e+"__"+n;this._numberFormatters.hasOwnProperty(o)&&delete this._numberFormatters[o]}},te.prototype._getNumberFormatter=function(e,t,n,o,r,l){for(var c=t,d=o[c],f=this._getLocaleChain(t,n),i=0;i<f.length;i++){var m=f[i];if(c=m,!v(d=o[m])&&!v(d[r]))break}if(v(d)||v(d[r]))return null;var h,y=d[r];if(l)h=new Intl.NumberFormat(c,Object.assign({},y,l));else{var x=c+"__"+r;(h=this._numberFormatters[x])||(h=this._numberFormatters[x]=new Intl.NumberFormat(c,y))}return h},te.prototype._n=function(e,t,n,o){if(!te.availabilities.numberFormat)return"";if(!n)return(o?new Intl.NumberFormat(t,o):new Intl.NumberFormat(t)).format(e);var r=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,o),l=r&&r.format(e);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(e,Object.assign({},{key:n,locale:t},o))}return l||""},te.prototype.n=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=this.locale,l=null,f=null;return 1===t.length?d(t[0])?l=t[0]:c(t[0])&&(t[0].locale&&(r=t[0].locale),t[0].key&&(l=t[0].key),f=Object.keys(t[0]).reduce((function(e,n){var r;return x(o,n)?Object.assign({},e,((r={})[n]=t[0][n],r)):e}),null)):2===t.length&&(d(t[0])&&(l=t[0]),d(t[1])&&(r=t[1])),this._n(e,r,l,f)},te.prototype._ntp=function(e,t,n,o){if(!te.availabilities.numberFormat)return[];if(!n)return(o?new Intl.NumberFormat(t,o):new Intl.NumberFormat(t)).formatToParts(e);var r=this._getNumberFormatter(e,t,this.fallbackLocale,this._getNumberFormats(),n,o),l=r&&r.formatToParts(e);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(e,t,n,o)}return l||[]},Object.defineProperties(te.prototype,ne),Object.defineProperty(te,"availabilities",{get:function(){if(!X){var e="undefined"!=typeof Intl;X={dateTimeFormat:e&&void 0!==Intl.DateTimeFormat,numberFormat:e&&void 0!==Intl.NumberFormat}}return X}}),te.install=W,te.version="8.18.2",t.a=te}}]);